2025-07-22 22:08:35,870 - DEBUG - main - Mounted static directory at /static: C:\Users\alber\anti-malarial-demand-forecast\static
2025-07-22 22:08:35,871 - DEBUG - main - Starting application
2025-07-22 22:08:35,872 - DEBUG - main - Data directory exists: C:\Users\alber\anti-malarial-demand-forecast\data
2025-07-22 22:08:35,872 - DEBUG - main - Static directory exists: C:\Users\alber\anti-malarial-demand-forecast\static
2025-07-22 22:08:35,872 - DEBUG - main - Found required file: C:\Users\alber\anti-malarial-demand-forecast\data\raw_climate_ddd_merged_data.csv
2025-07-22 22:08:35,872 - DEBUG - main - Found required file: C:\Users\alber\anti-malarial-demand-forecast\data\test_metrics.csv
2025-07-22 22:08:35,872 - DEBUG - main - Found required file: C:\Users\alber\anti-malarial-demand-forecast\data\predictions.csv
2025-07-22 22:08:35,876 - DEBUG - main - raw_climate_ddd_merged_data.csv: 99 data rows, columns: ['year', 'month', 'ddd_demand', 'avg_temp_max', 'avg_temp_min', 'avg_humidity', 'total_precipitation', 'total_sunshine_hours']
2025-07-22 22:08:35,877 - DEBUG - main - First row: {'year': 2017.0, 'month': 1.0, 'ddd_demand': 0.8647902406163, 'avg_temp_max': 31.48, 'avg_temp_min': 18.21, 'avg_humidity': 45.61, 'total_precipitation': 1566.1, 'total_sunshine_hours': 40921.04}
2025-07-22 22:08:35,878 - DEBUG - main - Validated test_metrics.csv: 4 rows, columns: ['model_name', 'mae_sum', 'mae', 't+1_mae', 't+1_mae.1', 't+1_mae.2']
2025-07-22 22:08:35,879 - DEBUG - main - Validated predictions.csv: 12 rows, columns: ['model_name', 'date', 'predicted_demand']
2025-07-22 22:08:35,879 - INFO - main - Startup validation completed successfully
2025-07-22 22:08:42,270 - DEBUG - main - Request: GET /static/index.html - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'cache-control': 'max-age=0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'dnt': '1', 'upgrade-insecure-requests': '1', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'sec-fetch-site': 'none', 'sec-fetch-mode': 'navigate', 'sec-fetch-user': '?1', 'sec-fetch-dest': 'document', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4', 'if-none-match': '"af4248454d0819ed5c830e6c9ddeb6e9"', 'if-modified-since': 'Tue, 22 Jul 2025 19:06:30 GMT'}
2025-07-22 22:08:42,383 - DEBUG - main - Response: /static/index.html - Status: 304 - Client IP: 127.0.0.1 - Duration: 113.56ms
2025-07-22 22:08:42,439 - DEBUG - main - Request: GET /api/input-data - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/static/index.html', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 22:08:42,439 - DEBUG - main - Request: GET /api/test-metrics - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/static/index.html', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 22:08:42,440 - DEBUG - main - Received request for /api/input-data
2025-07-22 22:08:42,440 - DEBUG - main - Loading CSV: C:\Users\alber\anti-malarial-demand-forecast\data\raw_climate_ddd_merged_data.csv
2025-07-22 22:08:42,443 - DEBUG - main - Loaded raw_climate_ddd_merged_data.csv: 99 data rows, columns: ['year', 'month', 'ddd_demand', 'avg_temp_max', 'avg_temp_min', 'avg_humidity', 'total_precipitation', 'total_sunshine_hours']
2025-07-22 22:08:42,443 - DEBUG - main - First row: {'year': 2017.0, 'month': 1.0, 'ddd_demand': 0.8647902406163, 'avg_temp_max': 31.48, 'avg_temp_min': 18.21, 'avg_humidity': 45.61, 'total_precipitation': 1566.1, 'total_sunshine_hours': 40921.04}
2025-07-22 22:08:42,444 - DEBUG - main - Data types: {'year': dtype('int64'), 'month': dtype('int64'), 'ddd_demand': dtype('float64'), 'avg_temp_max': dtype('float64'), 'avg_temp_min': dtype('float64'), 'avg_humidity': dtype('float64'), 'total_precipitation': dtype('float64'), 'total_sunshine_hours': dtype('float64')}
2025-07-22 22:08:42,451 - DEBUG - main - Data validation passed
2025-07-22 22:08:42,458 - DEBUG - main - Selected last 12 rows: ['2024-04-01', '2024-05-01', '2024-06-01', '2024-07-01', '2024-08-01', '2024-09-01', '2024-10-01', '2024-11-01', '2024-12-01', '2025-01-01', '2025-02-01', '2025-03-01']
2025-07-22 22:08:42,458 - DEBUG - main - Computed stats: {'max_temp_avg': 28.782501220703125, 'min_temp_avg': 18.127500534057617, 'humidity_avg': 68.30166625976562, 'precip_total': 141847.609375, 'sunshine_total': 445130.0, 'current_demand': 1.7332526445388794}
2025-07-22 22:08:42,461 - INFO - main - Returning input data: 12 rows, stats keys: ['max_temp_avg', 'min_temp_avg', 'humidity_avg', 'precip_total', 'sunshine_total', 'current_demand']
2025-07-22 22:08:42,461 - DEBUG - main - CSV output sample: year,month,ddd_demand,avg_temp_max,avg_temp_min,avg_humidity,total_precipitation,total_sunshine_hours
2024,4,1.7882762,27.72,18.62,78.3,21083.2,34248.21
2024,5,1.6331059,28.17,18.63,75.1,12969.0,378...
2025-07-22 22:08:42,462 - DEBUG - main - Received request for /api/test-metrics
2025-07-22 22:08:42,462 - DEBUG - main - Loading CSV: C:\Users\alber\anti-malarial-demand-forecast\data\test_metrics.csv
2025-07-22 22:08:42,464 - DEBUG - main - Loaded test_metrics.csv: 4 rows, columns: ['model_name', 'mae_sum', 'mae', 't+1_mae', 't+1_mae.1', 't+1_mae.2']
2025-07-22 22:08:42,464 - DEBUG - main - First row: {'model_name': 'Dense', 'mae_sum': 0.299327358603, 'mae': 0.099775786201, 't+1_mae': 0.070946060121, 't+1_mae.1': 0.070946060121, 't+1_mae.2': 0.070946060121}
2025-07-22 22:08:42,467 - INFO - main - Returning test metrics: 4 rows
2025-07-22 22:08:42,467 - DEBUG - main - Response sample: [{'model_name': 'Dense', 'mae_sum': 0.299327358603, 'mae': 0.099775786201, 't+1_mae': 0.070946060121, 't+1_mae.1': 0.070946060121, 't+1_mae.2': 0.070946060121}]
2025-07-22 22:08:42,467 - DEBUG - main - Response: /api/input-data - Status: 200 - Client IP: 127.0.0.1 - Duration: 28.00ms
2025-07-22 22:08:42,468 - DEBUG - main - Response: /api/test-metrics - Status: 200 - Client IP: 127.0.0.1 - Duration: 29.01ms
2025-07-22 22:08:42,470 - DEBUG - main - Request: GET /api/predictions - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/static/index.html', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 22:08:42,470 - DEBUG - main - Received request for /api/predictions
2025-07-22 22:08:42,470 - DEBUG - main - Loading CSV: C:\Users\alber\anti-malarial-demand-forecast\data\predictions.csv
2025-07-22 22:08:42,472 - DEBUG - main - Loaded predictions.csv: 12 rows, columns: ['model_name', 'date', 'predicted_demand']
2025-07-22 22:08:42,473 - DEBUG - main - First row: {'model_name': 'Dense', 'date': '2025-04-01', 'predicted_demand': 1.6158}
2025-07-22 22:08:42,473 - DEBUG - main - Raw dates: ['2025-04-01', '2025-05-01', '2025-06-01', '2025-04-01', '2025-05-01', '2025-06-01', '2025-04-01', '2025-05-01', '2025-06-01', '2025-04-01', '2025-05-01', '2025-06-01']
2025-07-22 22:08:42,475 - DEBUG - main - Formatted dates: ['April 2025', 'May 2025', 'June 2025', 'April 2025', 'May 2025', 'June 2025', 'April 2025', 'May 2025', 'June 2025', 'April 2025', 'May 2025', 'June 2025']
2025-07-22 22:08:42,476 - DEBUG - main - Model names: ['Dense', 'GRU', 'LSTM', 'transformer']
2025-07-22 22:08:42,479 - DEBUG - main - Predictions structure: {'Dense': {'April 2025': 1.6158, 'May 2025': 1.5825, 'June 2025': 1.5041}, 'GRU': {'April 2025': 1.8661, 'May 2025': 1.6706, 'June 2025': 1.2447}, 'LSTM': {'April 2025': 1.5321, 'May 2025': 1.4979, 'June 2025': 1.4128}, 'transformer': {'April 2025': 1.4832, 'May 2025': 1.6103, 'June 2025': 1.3905}}
2025-07-22 22:08:42,479 - DEBUG - main - Loading test metrics for best model: C:\Users\alber\anti-malarial-demand-forecast\data\test_metrics.csv
2025-07-22 22:08:42,482 - DEBUG - main - Test MAEs: {'Dense': 0.099775786201, 'LSTM': 0.219373166561, 'GRU': 0.087615636488, 'transformer': 0.253565068046}, Best model: GRU
2025-07-22 22:08:42,482 - DEBUG - main - Loading input data for last 6 months: C:\Users\alber\anti-malarial-demand-forecast\data\raw_climate_ddd_merged_data.csv
2025-07-22 22:08:42,488 - DEBUG - main - Last 6 months dates: ['2024-10-01', '2024-11-01', '2024-12-01', '2025-01-01', '2025-02-01', '2025-03-01']
2025-07-22 22:08:42,489 - INFO - main - Returning predictions: 4 models, best_model: GRU
2025-07-22 22:08:42,489 - DEBUG - main - Response sample: {'Dense': {'April 2025': 1.6158, 'May 2025': 1.5825, 'June 2025': 1.5041}, 'GRU': {'April 2025': 1.8661, 'May 2025': 1.6706, 'June 2025': 1.2447}, 'LSTM': {'April 2025': 1.5321, 'May 2025': 1.4979, 'June 2025': 1.4128}, 'transformer': {'April 2025': 1.4832, 'May 2025': 1.6103, 'June 2025': 1.3905}}
2025-07-22 22:08:42,489 - DEBUG - main - Response: /api/predictions - Status: 200 - Client IP: 127.0.0.1 - Duration: 19.54ms
2025-07-22 22:09:42,141 - DEBUG - main - Request: GET /.well-known/appspecific/com.chrome.devtools.json - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'no-cors', 'sec-fetch-dest': 'empty', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 22:09:42,142 - ERROR - main - 404 Not Found: GET /.well-known/appspecific/com.chrome.devtools.json - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'no-cors', 'sec-fetch-dest': 'empty', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 22:09:42,142 - DEBUG - main - Response: /.well-known/appspecific/com.chrome.devtools.json - Status: 404 - Client IP: 127.0.0.1 - Duration: 1.00ms
2025-07-22 22:09:43,963 - DEBUG - main - Request: GET /static/index.html - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'cache-control': 'max-age=0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'dnt': '1', 'upgrade-insecure-requests': '1', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'sec-fetch-site': 'none', 'sec-fetch-mode': 'navigate', 'sec-fetch-user': '?1', 'sec-fetch-dest': 'document', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4', 'if-none-match': '"af4248454d0819ed5c830e6c9ddeb6e9"', 'if-modified-since': 'Tue, 22 Jul 2025 19:06:30 GMT'}
2025-07-22 22:09:43,965 - DEBUG - main - Response: /static/index.html - Status: 304 - Client IP: 127.0.0.1 - Duration: 2.00ms
2025-07-22 22:09:44,011 - DEBUG - main - Request: GET /.well-known/appspecific/com.chrome.devtools.json - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'no-cors', 'sec-fetch-dest': 'empty', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 22:09:44,011 - ERROR - main - 404 Not Found: GET /.well-known/appspecific/com.chrome.devtools.json - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'no-cors', 'sec-fetch-dest': 'empty', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 22:09:44,012 - DEBUG - main - Response: /.well-known/appspecific/com.chrome.devtools.json - Status: 404 - Client IP: 127.0.0.1 - Duration: 1.00ms
2025-07-22 22:09:44,140 - DEBUG - main - Request: GET /api/input-data - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/static/index.html', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 22:09:44,140 - DEBUG - main - Received request for /api/input-data
2025-07-22 22:09:44,141 - DEBUG - main - Loading CSV: C:\Users\alber\anti-malarial-demand-forecast\data\raw_climate_ddd_merged_data.csv
2025-07-22 22:09:44,143 - DEBUG - main - Loaded raw_climate_ddd_merged_data.csv: 99 data rows, columns: ['year', 'month', 'ddd_demand', 'avg_temp_max', 'avg_temp_min', 'avg_humidity', 'total_precipitation', 'total_sunshine_hours']
2025-07-22 22:09:44,143 - DEBUG - main - First row: {'year': 2017.0, 'month': 1.0, 'ddd_demand': 0.8647902406163, 'avg_temp_max': 31.48, 'avg_temp_min': 18.21, 'avg_humidity': 45.61, 'total_precipitation': 1566.1, 'total_sunshine_hours': 40921.04}
2025-07-22 22:09:44,144 - DEBUG - main - Data types: {'year': dtype('int64'), 'month': dtype('int64'), 'ddd_demand': dtype('float64'), 'avg_temp_max': dtype('float64'), 'avg_temp_min': dtype('float64'), 'avg_humidity': dtype('float64'), 'total_precipitation': dtype('float64'), 'total_sunshine_hours': dtype('float64')}
2025-07-22 22:09:44,153 - DEBUG - main - Data validation passed
2025-07-22 22:09:44,161 - DEBUG - main - Selected last 12 rows: ['2024-04-01', '2024-05-01', '2024-06-01', '2024-07-01', '2024-08-01', '2024-09-01', '2024-10-01', '2024-11-01', '2024-12-01', '2025-01-01', '2025-02-01', '2025-03-01']
2025-07-22 22:09:44,162 - DEBUG - main - Computed stats: {'max_temp_avg': 28.782501220703125, 'min_temp_avg': 18.127500534057617, 'humidity_avg': 68.30166625976562, 'precip_total': 141847.609375, 'sunshine_total': 445130.0, 'current_demand': 1.7332526445388794}
2025-07-22 22:09:44,165 - INFO - main - Returning input data: 12 rows, stats keys: ['max_temp_avg', 'min_temp_avg', 'humidity_avg', 'precip_total', 'sunshine_total', 'current_demand']
2025-07-22 22:09:44,165 - DEBUG - main - CSV output sample: year,month,ddd_demand,avg_temp_max,avg_temp_min,avg_humidity,total_precipitation,total_sunshine_hours
2024,4,1.7882762,27.72,18.62,78.3,21083.2,34248.21
2024,5,1.6331059,28.17,18.63,75.1,12969.0,378...
2025-07-22 22:09:44,166 - DEBUG - main - Response: /api/input-data - Status: 200 - Client IP: 127.0.0.1 - Duration: 25.75ms
2025-07-22 22:09:44,180 - DEBUG - main - Request: GET /api/test-metrics - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/static/index.html', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 22:09:44,180 - DEBUG - main - Received request for /api/test-metrics
2025-07-22 22:09:44,180 - DEBUG - main - Loading CSV: C:\Users\alber\anti-malarial-demand-forecast\data\test_metrics.csv
2025-07-22 22:09:44,182 - DEBUG - main - Loaded test_metrics.csv: 4 rows, columns: ['model_name', 'mae_sum', 'mae', 't+1_mae', 't+1_mae.1', 't+1_mae.2']
2025-07-22 22:09:44,183 - DEBUG - main - First row: {'model_name': 'Dense', 'mae_sum': 0.299327358603, 'mae': 0.099775786201, 't+1_mae': 0.070946060121, 't+1_mae.1': 0.070946060121, 't+1_mae.2': 0.070946060121}
2025-07-22 22:09:44,184 - INFO - main - Returning test metrics: 4 rows
2025-07-22 22:09:44,184 - DEBUG - main - Response sample: [{'model_name': 'Dense', 'mae_sum': 0.299327358603, 'mae': 0.099775786201, 't+1_mae': 0.070946060121, 't+1_mae.1': 0.070946060121, 't+1_mae.2': 0.070946060121}]
2025-07-22 22:09:44,184 - DEBUG - main - Response: /api/test-metrics - Status: 200 - Client IP: 127.0.0.1 - Duration: 5.00ms
2025-07-22 22:09:44,188 - DEBUG - main - Request: GET /api/predictions - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/static/index.html', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 22:09:44,188 - DEBUG - main - Received request for /api/predictions
2025-07-22 22:09:44,188 - DEBUG - main - Loading CSV: C:\Users\alber\anti-malarial-demand-forecast\data\predictions.csv
2025-07-22 22:09:44,191 - DEBUG - main - Loaded predictions.csv: 12 rows, columns: ['model_name', 'date', 'predicted_demand']
2025-07-22 22:09:44,191 - DEBUG - main - First row: {'model_name': 'Dense', 'date': '2025-04-01', 'predicted_demand': 1.6158}
2025-07-22 22:09:44,191 - DEBUG - main - Raw dates: ['2025-04-01', '2025-05-01', '2025-06-01', '2025-04-01', '2025-05-01', '2025-06-01', '2025-04-01', '2025-05-01', '2025-06-01', '2025-04-01', '2025-05-01', '2025-06-01']
2025-07-22 22:09:44,193 - DEBUG - main - Formatted dates: ['April 2025', 'May 2025', 'June 2025', 'April 2025', 'May 2025', 'June 2025', 'April 2025', 'May 2025', 'June 2025', 'April 2025', 'May 2025', 'June 2025']
2025-07-22 22:09:44,194 - DEBUG - main - Model names: ['Dense', 'GRU', 'LSTM', 'transformer']
2025-07-22 22:09:44,199 - DEBUG - main - Predictions structure: {'Dense': {'April 2025': 1.6158, 'May 2025': 1.5825, 'June 2025': 1.5041}, 'GRU': {'April 2025': 1.8661, 'May 2025': 1.6706, 'June 2025': 1.2447}, 'LSTM': {'April 2025': 1.5321, 'May 2025': 1.4979, 'June 2025': 1.4128}, 'transformer': {'April 2025': 1.4832, 'May 2025': 1.6103, 'June 2025': 1.3905}}
2025-07-22 22:09:44,199 - DEBUG - main - Loading test metrics for best model: C:\Users\alber\anti-malarial-demand-forecast\data\test_metrics.csv
2025-07-22 22:09:44,201 - DEBUG - main - Test MAEs: {'Dense': 0.099775786201, 'LSTM': 0.219373166561, 'GRU': 0.087615636488, 'transformer': 0.253565068046}, Best model: GRU
2025-07-22 22:09:44,201 - DEBUG - main - Loading input data for last 6 months: C:\Users\alber\anti-malarial-demand-forecast\data\raw_climate_ddd_merged_data.csv
2025-07-22 22:09:44,207 - DEBUG - main - Last 6 months dates: ['2024-10-01', '2024-11-01', '2024-12-01', '2025-01-01', '2025-02-01', '2025-03-01']
2025-07-22 22:09:44,208 - INFO - main - Returning predictions: 4 models, best_model: GRU
2025-07-22 22:09:44,208 - DEBUG - main - Response sample: {'Dense': {'April 2025': 1.6158, 'May 2025': 1.5825, 'June 2025': 1.5041}, 'GRU': {'April 2025': 1.8661, 'May 2025': 1.6706, 'June 2025': 1.2447}, 'LSTM': {'April 2025': 1.5321, 'May 2025': 1.4979, 'June 2025': 1.4128}, 'transformer': {'April 2025': 1.4832, 'May 2025': 1.6103, 'June 2025': 1.3905}}
2025-07-22 22:09:44,208 - DEBUG - main - Response: /api/predictions - Status: 200 - Client IP: 127.0.0.1 - Duration: 20.21ms
2025-07-22 22:10:47,310 - DEBUG - main - Request: GET /static/index.html - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'cache-control': 'max-age=0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'dnt': '1', 'upgrade-insecure-requests': '1', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'sec-fetch-site': 'none', 'sec-fetch-mode': 'navigate', 'sec-fetch-user': '?1', 'sec-fetch-dest': 'document', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4', 'if-none-match': '"af4248454d0819ed5c830e6c9ddeb6e9"', 'if-modified-since': 'Tue, 22 Jul 2025 19:06:30 GMT'}
2025-07-22 22:10:47,313 - DEBUG - main - Response: /static/index.html - Status: 304 - Client IP: 127.0.0.1 - Duration: 3.54ms
2025-07-22 22:10:47,364 - DEBUG - main - Request: GET /.well-known/appspecific/com.chrome.devtools.json - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'no-cors', 'sec-fetch-dest': 'empty', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 22:10:47,364 - ERROR - main - 404 Not Found: GET /.well-known/appspecific/com.chrome.devtools.json - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'no-cors', 'sec-fetch-dest': 'empty', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 22:10:47,364 - DEBUG - main - Response: /.well-known/appspecific/com.chrome.devtools.json - Status: 404 - Client IP: 127.0.0.1 - Duration: 0.00ms
2025-07-22 22:10:47,480 - DEBUG - main - Request: GET /api/input-data - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/static/index.html', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 22:10:47,481 - DEBUG - main - Received request for /api/input-data
2025-07-22 22:10:47,481 - DEBUG - main - Loading CSV: C:\Users\alber\anti-malarial-demand-forecast\data\raw_climate_ddd_merged_data.csv
2025-07-22 22:10:47,484 - DEBUG - main - Loaded raw_climate_ddd_merged_data.csv: 99 data rows, columns: ['year', 'month', 'ddd_demand', 'avg_temp_max', 'avg_temp_min', 'avg_humidity', 'total_precipitation', 'total_sunshine_hours']
2025-07-22 22:10:47,484 - DEBUG - main - First row: {'year': 2017.0, 'month': 1.0, 'ddd_demand': 0.8647902406163, 'avg_temp_max': 31.48, 'avg_temp_min': 18.21, 'avg_humidity': 45.61, 'total_precipitation': 1566.1, 'total_sunshine_hours': 40921.04}
2025-07-22 22:10:47,485 - DEBUG - main - Data types: {'year': dtype('int64'), 'month': dtype('int64'), 'ddd_demand': dtype('float64'), 'avg_temp_max': dtype('float64'), 'avg_temp_min': dtype('float64'), 'avg_humidity': dtype('float64'), 'total_precipitation': dtype('float64'), 'total_sunshine_hours': dtype('float64')}
2025-07-22 22:10:47,494 - DEBUG - main - Data validation passed
2025-07-22 22:10:47,506 - DEBUG - main - Selected last 12 rows: ['2024-04-01', '2024-05-01', '2024-06-01', '2024-07-01', '2024-08-01', '2024-09-01', '2024-10-01', '2024-11-01', '2024-12-01', '2025-01-01', '2025-02-01', '2025-03-01']
2025-07-22 22:10:47,507 - DEBUG - main - Computed stats: {'max_temp_avg': 28.782501220703125, 'min_temp_avg': 18.127500534057617, 'humidity_avg': 68.30166625976562, 'precip_total': 141847.609375, 'sunshine_total': 445130.0, 'current_demand': 1.7332526445388794}
2025-07-22 22:10:47,509 - INFO - main - Returning input data: 12 rows, stats keys: ['max_temp_avg', 'min_temp_avg', 'humidity_avg', 'precip_total', 'sunshine_total', 'current_demand']
2025-07-22 22:10:47,509 - DEBUG - main - CSV output sample: year,month,ddd_demand,avg_temp_max,avg_temp_min,avg_humidity,total_precipitation,total_sunshine_hours
2024,4,1.7882762,27.72,18.62,78.3,21083.2,34248.21
2024,5,1.6331059,28.17,18.63,75.1,12969.0,378...
2025-07-22 22:10:47,509 - DEBUG - main - Request: GET /api/test-metrics - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/static/index.html', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 22:10:47,509 - DEBUG - main - Received request for /api/test-metrics
2025-07-22 22:10:47,510 - DEBUG - main - Loading CSV: C:\Users\alber\anti-malarial-demand-forecast\data\test_metrics.csv
2025-07-22 22:10:47,511 - DEBUG - main - Loaded test_metrics.csv: 4 rows, columns: ['model_name', 'mae_sum', 'mae', 't+1_mae', 't+1_mae.1', 't+1_mae.2']
2025-07-22 22:10:47,512 - DEBUG - main - First row: {'model_name': 'Dense', 'mae_sum': 0.299327358603, 'mae': 0.099775786201, 't+1_mae': 0.070946060121, 't+1_mae.1': 0.070946060121, 't+1_mae.2': 0.070946060121}
2025-07-22 22:10:47,513 - INFO - main - Returning test metrics: 4 rows
2025-07-22 22:10:47,513 - DEBUG - main - Response sample: [{'model_name': 'Dense', 'mae_sum': 0.299327358603, 'mae': 0.099775786201, 't+1_mae': 0.070946060121, 't+1_mae.1': 0.070946060121, 't+1_mae.2': 0.070946060121}]
2025-07-22 22:10:47,513 - DEBUG - main - Response: /api/input-data - Status: 200 - Client IP: 127.0.0.1 - Duration: 32.68ms
2025-07-22 22:10:47,514 - DEBUG - main - Response: /api/test-metrics - Status: 200 - Client IP: 127.0.0.1 - Duration: 5.00ms
2025-07-22 22:10:47,516 - DEBUG - main - Request: GET /api/predictions - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/static/index.html', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 22:10:47,516 - DEBUG - main - Received request for /api/predictions
2025-07-22 22:10:47,516 - DEBUG - main - Loading CSV: C:\Users\alber\anti-malarial-demand-forecast\data\predictions.csv
2025-07-22 22:10:47,518 - DEBUG - main - Loaded predictions.csv: 12 rows, columns: ['model_name', 'date', 'predicted_demand']
2025-07-22 22:10:47,519 - DEBUG - main - First row: {'model_name': 'Dense', 'date': '2025-04-01', 'predicted_demand': 1.6158}
2025-07-22 22:10:47,519 - DEBUG - main - Raw dates: ['2025-04-01', '2025-05-01', '2025-06-01', '2025-04-01', '2025-05-01', '2025-06-01', '2025-04-01', '2025-05-01', '2025-06-01', '2025-04-01', '2025-05-01', '2025-06-01']
2025-07-22 22:10:47,520 - DEBUG - main - Formatted dates: ['April 2025', 'May 2025', 'June 2025', 'April 2025', 'May 2025', 'June 2025', 'April 2025', 'May 2025', 'June 2025', 'April 2025', 'May 2025', 'June 2025']
2025-07-22 22:10:47,521 - DEBUG - main - Model names: ['Dense', 'GRU', 'LSTM', 'transformer']
2025-07-22 22:10:47,526 - DEBUG - main - Predictions structure: {'Dense': {'April 2025': 1.6158, 'May 2025': 1.5825, 'June 2025': 1.5041}, 'GRU': {'April 2025': 1.8661, 'May 2025': 1.6706, 'June 2025': 1.2447}, 'LSTM': {'April 2025': 1.5321, 'May 2025': 1.4979, 'June 2025': 1.4128}, 'transformer': {'April 2025': 1.4832, 'May 2025': 1.6103, 'June 2025': 1.3905}}
2025-07-22 22:10:47,526 - DEBUG - main - Loading test metrics for best model: C:\Users\alber\anti-malarial-demand-forecast\data\test_metrics.csv
2025-07-22 22:10:47,528 - DEBUG - main - Test MAEs: {'Dense': 0.099775786201, 'LSTM': 0.219373166561, 'GRU': 0.087615636488, 'transformer': 0.253565068046}, Best model: GRU
2025-07-22 22:10:47,529 - DEBUG - main - Loading input data for last 6 months: C:\Users\alber\anti-malarial-demand-forecast\data\raw_climate_ddd_merged_data.csv
2025-07-22 22:10:47,550 - DEBUG - main - Last 6 months dates: ['2024-10-01', '2024-11-01', '2024-12-01', '2025-01-01', '2025-02-01', '2025-03-01']
2025-07-22 22:10:47,550 - INFO - main - Returning predictions: 4 models, best_model: GRU
2025-07-22 22:10:47,551 - DEBUG - main - Response sample: {'Dense': {'April 2025': 1.6158, 'May 2025': 1.5825, 'June 2025': 1.5041}, 'GRU': {'April 2025': 1.8661, 'May 2025': 1.6706, 'June 2025': 1.2447}, 'LSTM': {'April 2025': 1.5321, 'May 2025': 1.4979, 'June 2025': 1.4128}, 'transformer': {'April 2025': 1.4832, 'May 2025': 1.6103, 'June 2025': 1.3905}}
2025-07-22 22:10:47,551 - DEBUG - main - Response: /api/predictions - Status: 200 - Client IP: 127.0.0.1 - Duration: 36.53ms
2025-07-22 22:10:49,858 - DEBUG - main - Request: GET /static/index.html - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'cache-control': 'max-age=0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'dnt': '1', 'upgrade-insecure-requests': '1', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'sec-fetch-site': 'none', 'sec-fetch-mode': 'navigate', 'sec-fetch-user': '?1', 'sec-fetch-dest': 'document', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4', 'if-none-match': '"af4248454d0819ed5c830e6c9ddeb6e9"', 'if-modified-since': 'Tue, 22 Jul 2025 19:06:30 GMT'}
2025-07-22 22:10:49,860 - DEBUG - main - Response: /static/index.html - Status: 304 - Client IP: 127.0.0.1 - Duration: 2.01ms
2025-07-22 22:10:49,906 - DEBUG - main - Request: GET /.well-known/appspecific/com.chrome.devtools.json - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'no-cors', 'sec-fetch-dest': 'empty', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 22:10:49,906 - ERROR - main - 404 Not Found: GET /.well-known/appspecific/com.chrome.devtools.json - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'no-cors', 'sec-fetch-dest': 'empty', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 22:10:49,907 - DEBUG - main - Response: /.well-known/appspecific/com.chrome.devtools.json - Status: 404 - Client IP: 127.0.0.1 - Duration: 1.00ms
2025-07-22 22:10:50,036 - DEBUG - main - Request: GET /api/input-data - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/static/index.html', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 22:10:50,037 - DEBUG - main - Request: GET /api/test-metrics - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/static/index.html', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 22:10:50,037 - DEBUG - main - Request: GET /api/predictions - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/static/index.html', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 22:10:50,038 - DEBUG - main - Received request for /api/input-data
2025-07-22 22:10:50,038 - DEBUG - main - Loading CSV: C:\Users\alber\anti-malarial-demand-forecast\data\raw_climate_ddd_merged_data.csv
2025-07-22 22:10:50,042 - DEBUG - main - Loaded raw_climate_ddd_merged_data.csv: 99 data rows, columns: ['year', 'month', 'ddd_demand', 'avg_temp_max', 'avg_temp_min', 'avg_humidity', 'total_precipitation', 'total_sunshine_hours']
2025-07-22 22:10:50,043 - DEBUG - main - First row: {'year': 2017.0, 'month': 1.0, 'ddd_demand': 0.8647902406163, 'avg_temp_max': 31.48, 'avg_temp_min': 18.21, 'avg_humidity': 45.61, 'total_precipitation': 1566.1, 'total_sunshine_hours': 40921.04}
2025-07-22 22:10:50,043 - DEBUG - main - Data types: {'year': dtype('int64'), 'month': dtype('int64'), 'ddd_demand': dtype('float64'), 'avg_temp_max': dtype('float64'), 'avg_temp_min': dtype('float64'), 'avg_humidity': dtype('float64'), 'total_precipitation': dtype('float64'), 'total_sunshine_hours': dtype('float64')}
2025-07-22 22:10:50,050 - DEBUG - main - Data validation passed
2025-07-22 22:10:50,057 - DEBUG - main - Selected last 12 rows: ['2024-04-01', '2024-05-01', '2024-06-01', '2024-07-01', '2024-08-01', '2024-09-01', '2024-10-01', '2024-11-01', '2024-12-01', '2025-01-01', '2025-02-01', '2025-03-01']
2025-07-22 22:10:50,058 - DEBUG - main - Computed stats: {'max_temp_avg': 28.782501220703125, 'min_temp_avg': 18.127500534057617, 'humidity_avg': 68.30166625976562, 'precip_total': 141847.609375, 'sunshine_total': 445130.0, 'current_demand': 1.7332526445388794}
2025-07-22 22:10:50,060 - INFO - main - Returning input data: 12 rows, stats keys: ['max_temp_avg', 'min_temp_avg', 'humidity_avg', 'precip_total', 'sunshine_total', 'current_demand']
2025-07-22 22:10:50,060 - DEBUG - main - CSV output sample: year,month,ddd_demand,avg_temp_max,avg_temp_min,avg_humidity,total_precipitation,total_sunshine_hours
2024,4,1.7882762,27.72,18.62,78.3,21083.2,34248.21
2024,5,1.6331059,28.17,18.63,75.1,12969.0,378...
2025-07-22 22:10:50,061 - DEBUG - main - Received request for /api/test-metrics
2025-07-22 22:10:50,061 - DEBUG - main - Loading CSV: C:\Users\alber\anti-malarial-demand-forecast\data\test_metrics.csv
2025-07-22 22:10:50,063 - DEBUG - main - Loaded test_metrics.csv: 4 rows, columns: ['model_name', 'mae_sum', 'mae', 't+1_mae', 't+1_mae.1', 't+1_mae.2']
2025-07-22 22:10:50,064 - DEBUG - main - First row: {'model_name': 'Dense', 'mae_sum': 0.299327358603, 'mae': 0.099775786201, 't+1_mae': 0.070946060121, 't+1_mae.1': 0.070946060121, 't+1_mae.2': 0.070946060121}
2025-07-22 22:10:50,065 - INFO - main - Returning test metrics: 4 rows
2025-07-22 22:10:50,065 - DEBUG - main - Response sample: [{'model_name': 'Dense', 'mae_sum': 0.299327358603, 'mae': 0.099775786201, 't+1_mae': 0.070946060121, 't+1_mae.1': 0.070946060121, 't+1_mae.2': 0.070946060121}]
2025-07-22 22:10:50,065 - DEBUG - main - Received request for /api/predictions
2025-07-22 22:10:50,066 - DEBUG - main - Loading CSV: C:\Users\alber\anti-malarial-demand-forecast\data\predictions.csv
2025-07-22 22:10:50,067 - DEBUG - main - Loaded predictions.csv: 12 rows, columns: ['model_name', 'date', 'predicted_demand']
2025-07-22 22:10:50,068 - DEBUG - main - First row: {'model_name': 'Dense', 'date': '2025-04-01', 'predicted_demand': 1.6158}
2025-07-22 22:10:50,068 - DEBUG - main - Raw dates: ['2025-04-01', '2025-05-01', '2025-06-01', '2025-04-01', '2025-05-01', '2025-06-01', '2025-04-01', '2025-05-01', '2025-06-01', '2025-04-01', '2025-05-01', '2025-06-01']
2025-07-22 22:10:50,070 - DEBUG - main - Formatted dates: ['April 2025', 'May 2025', 'June 2025', 'April 2025', 'May 2025', 'June 2025', 'April 2025', 'May 2025', 'June 2025', 'April 2025', 'May 2025', 'June 2025']
2025-07-22 22:10:50,070 - DEBUG - main - Model names: ['Dense', 'GRU', 'LSTM', 'transformer']
2025-07-22 22:10:50,077 - DEBUG - main - Predictions structure: {'Dense': {'April 2025': 1.6158, 'May 2025': 1.5825, 'June 2025': 1.5041}, 'GRU': {'April 2025': 1.8661, 'May 2025': 1.6706, 'June 2025': 1.2447}, 'LSTM': {'April 2025': 1.5321, 'May 2025': 1.4979, 'June 2025': 1.4128}, 'transformer': {'April 2025': 1.4832, 'May 2025': 1.6103, 'June 2025': 1.3905}}
2025-07-22 22:10:50,078 - DEBUG - main - Loading test metrics for best model: C:\Users\alber\anti-malarial-demand-forecast\data\test_metrics.csv
2025-07-22 22:10:50,080 - DEBUG - main - Test MAEs: {'Dense': 0.099775786201, 'LSTM': 0.219373166561, 'GRU': 0.087615636488, 'transformer': 0.253565068046}, Best model: GRU
2025-07-22 22:10:50,080 - DEBUG - main - Loading input data for last 6 months: C:\Users\alber\anti-malarial-demand-forecast\data\raw_climate_ddd_merged_data.csv
2025-07-22 22:10:50,086 - DEBUG - main - Last 6 months dates: ['2024-10-01', '2024-11-01', '2024-12-01', '2025-01-01', '2025-02-01', '2025-03-01']
2025-07-22 22:10:50,086 - INFO - main - Returning predictions: 4 models, best_model: GRU
2025-07-22 22:10:50,086 - DEBUG - main - Response sample: {'Dense': {'April 2025': 1.6158, 'May 2025': 1.5825, 'June 2025': 1.5041}, 'GRU': {'April 2025': 1.8661, 'May 2025': 1.6706, 'June 2025': 1.2447}, 'LSTM': {'April 2025': 1.5321, 'May 2025': 1.4979, 'June 2025': 1.4128}, 'transformer': {'April 2025': 1.4832, 'May 2025': 1.6103, 'June 2025': 1.3905}}
2025-07-22 22:10:50,087 - DEBUG - main - Response: /api/input-data - Status: 200 - Client IP: 127.0.0.1 - Duration: 50.64ms
2025-07-22 22:10:50,087 - DEBUG - main - Response: /api/test-metrics - Status: 200 - Client IP: 127.0.0.1 - Duration: 49.64ms
2025-07-22 22:10:50,088 - DEBUG - main - Response: /api/predictions - Status: 200 - Client IP: 127.0.0.1 - Duration: 50.63ms
2025-07-22 22:25:09,682 - DEBUG - main - Mounted static directory at /static: C:\Users\alber\anti-malarial-demand-forecast\static
2025-07-22 22:25:09,684 - DEBUG - main - Starting application
2025-07-22 22:25:09,684 - DEBUG - main - Data directory exists: C:\Users\alber\anti-malarial-demand-forecast\data
2025-07-22 22:25:09,684 - DEBUG - main - Static directory exists: C:\Users\alber\anti-malarial-demand-forecast\static
2025-07-22 22:25:09,684 - DEBUG - main - Found required file: C:\Users\alber\anti-malarial-demand-forecast\data\raw_climate_ddd_merged_data.csv
2025-07-22 22:25:09,684 - DEBUG - main - Found required file: C:\Users\alber\anti-malarial-demand-forecast\data\test_metrics.csv
2025-07-22 22:25:09,685 - DEBUG - main - Found required file: C:\Users\alber\anti-malarial-demand-forecast\data\predictions.csv
2025-07-22 22:25:09,688 - DEBUG - main - raw_climate_ddd_merged_data.csv: 99 data rows, columns: ['year', 'month', 'ddd_demand', 'avg_temp_max', 'avg_temp_min', 'avg_humidity', 'total_precipitation', 'total_sunshine_hours']
2025-07-22 22:25:09,688 - DEBUG - main - First row: {'year': 2017.0, 'month': 1.0, 'ddd_demand': 0.8647902406163, 'avg_temp_max': 31.48, 'avg_temp_min': 18.21, 'avg_humidity': 45.61, 'total_precipitation': 1566.1, 'total_sunshine_hours': 40921.04}
2025-07-22 22:25:09,690 - DEBUG - main - Validated test_metrics.csv: 4 rows, columns: ['model_name', 'mae_sum', 'mae', 't+1_mae', 't+1_mae.1', 't+1_mae.2']
2025-07-22 22:25:09,691 - DEBUG - main - Validated predictions.csv: 12 rows, columns: ['model_name', 'date', 'predicted_demand']
2025-07-22 22:25:09,691 - INFO - main - Startup validation completed successfully
2025-07-22 22:25:19,982 - DEBUG - main - Request: GET /static/index.html - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'cache-control': 'max-age=0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'dnt': '1', 'upgrade-insecure-requests': '1', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'sec-fetch-site': 'none', 'sec-fetch-mode': 'navigate', 'sec-fetch-user': '?1', 'sec-fetch-dest': 'document', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4', 'if-none-match': '"af4248454d0819ed5c830e6c9ddeb6e9"', 'if-modified-since': 'Tue, 22 Jul 2025 19:06:30 GMT'}
2025-07-22 22:25:20,082 - DEBUG - main - Response: /static/index.html - Status: 304 - Client IP: 127.0.0.1 - Duration: 100.00ms
2025-07-22 22:25:20,134 - DEBUG - main - Request: GET /.well-known/appspecific/com.chrome.devtools.json - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'no-cors', 'sec-fetch-dest': 'empty', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 22:25:20,135 - ERROR - main - 404 Not Found: GET /.well-known/appspecific/com.chrome.devtools.json - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'no-cors', 'sec-fetch-dest': 'empty', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 22:25:20,135 - DEBUG - main - Response: /.well-known/appspecific/com.chrome.devtools.json - Status: 404 - Client IP: 127.0.0.1 - Duration: 1.00ms
2025-07-22 22:25:20,305 - DEBUG - main - Request: GET /api/input-data - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/static/index.html', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 22:25:20,306 - DEBUG - main - Request: GET /api/test-metrics - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/static/index.html', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 22:25:20,307 - DEBUG - main - Request: GET /api/predictions - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/static/index.html', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 22:25:20,307 - DEBUG - main - Received request for /api/input-data
2025-07-22 22:25:20,307 - DEBUG - main - Loading CSV: C:\Users\alber\anti-malarial-demand-forecast\data\raw_climate_ddd_merged_data.csv
2025-07-22 22:25:20,315 - DEBUG - main - Loaded raw_climate_ddd_merged_data.csv: 99 data rows, columns: ['year', 'month', 'ddd_demand', 'avg_temp_max', 'avg_temp_min', 'avg_humidity', 'total_precipitation', 'total_sunshine_hours']
2025-07-22 22:25:20,315 - DEBUG - main - First row: {'year': 2017.0, 'month': 1.0, 'ddd_demand': 0.8647902406163, 'avg_temp_max': 31.48, 'avg_temp_min': 18.21, 'avg_humidity': 45.61, 'total_precipitation': 1566.1, 'total_sunshine_hours': 40921.04}
2025-07-22 22:25:20,316 - DEBUG - main - Data types: {'year': dtype('int64'), 'month': dtype('int64'), 'ddd_demand': dtype('float64'), 'avg_temp_max': dtype('float64'), 'avg_temp_min': dtype('float64'), 'avg_humidity': dtype('float64'), 'total_precipitation': dtype('float64'), 'total_sunshine_hours': dtype('float64')}
2025-07-22 22:25:20,321 - DEBUG - main - Data validation passed
2025-07-22 22:25:20,327 - DEBUG - main - Selected last 12 rows: ['2024-04-01', '2024-05-01', '2024-06-01', '2024-07-01', '2024-08-01', '2024-09-01', '2024-10-01', '2024-11-01', '2024-12-01', '2025-01-01', '2025-02-01', '2025-03-01']
2025-07-22 22:25:20,327 - DEBUG - main - Computed stats: {'max_temp_avg': 28.782501220703125, 'min_temp_avg': 18.127500534057617, 'humidity_avg': 68.30166625976562, 'precip_total': 141847.609375, 'sunshine_total': 445130.0, 'current_demand': 1.7332526445388794}
2025-07-22 22:25:20,330 - INFO - main - Returning input data: 12 rows, stats keys: ['max_temp_avg', 'min_temp_avg', 'humidity_avg', 'precip_total', 'sunshine_total', 'current_demand']
2025-07-22 22:25:20,330 - DEBUG - main - CSV output sample: year,month,ddd_demand,avg_temp_max,avg_temp_min,avg_humidity,total_precipitation,total_sunshine_hours
2024,4,1.7882762,27.72,18.62,78.3,21083.2,34248.21
2024,5,1.6331059,28.17,18.63,75.1,12969.0,37863...
2025-07-22 22:25:20,331 - DEBUG - main - Received request for /api/test-metrics
2025-07-22 22:25:20,331 - DEBUG - main - Loading CSV: C:\Users\alber\anti-malarial-demand-forecast\data\test_metrics.csv
2025-07-22 22:25:20,333 - DEBUG - main - Loaded test_metrics.csv: 4 rows, columns: ['model_name', 'mae_sum', 'mae', 't+1_mae', 't+1_mae.1', 't+1_mae.2']
2025-07-22 22:25:20,333 - DEBUG - main - First row: {'model_name': 'Dense', 'mae_sum': 0.299327358603, 'mae': 0.099775786201, 't+1_mae': 0.070946060121, 't+1_mae.1': 0.070946060121, 't+1_mae.2': 0.070946060121}
2025-07-22 22:25:20,335 - INFO - main - Returning test metrics: 4 rows
2025-07-22 22:25:20,335 - DEBUG - main - Response sample: [{'model_name': 'Dense', 'mae_sum': 0.299327358603, 'mae': 0.099775786201, 't+1_mae': 0.070946060121, 't+1_mae.1': 0.070946060121, 't+1_mae.2': 0.070946060121}]
2025-07-22 22:25:20,336 - DEBUG - main - Received request for /api/predictions
2025-07-22 22:25:20,336 - DEBUG - main - Loading CSV: C:\Users\alber\anti-malarial-demand-forecast\data\predictions.csv
2025-07-22 22:25:20,338 - DEBUG - main - Loaded predictions.csv: 12 rows, columns: ['model_name', 'date', 'predicted_demand']
2025-07-22 22:25:20,338 - DEBUG - main - First row: {'model_name': 'Dense', 'date': '2025-04-01', 'predicted_demand': 1.6158}
2025-07-22 22:25:20,338 - DEBUG - main - Raw dates: ['2025-04-01', '2025-05-01', '2025-06-01', '2025-04-01', '2025-05-01', '2025-06-01', '2025-04-01', '2025-05-01', '2025-06-01', '2025-04-01', '2025-05-01', '2025-06-01']
2025-07-22 22:25:20,341 - DEBUG - main - Formatted dates: ['April 2025', 'May 2025', 'June 2025', 'April 2025', 'May 2025', 'June 2025', 'April 2025', 'May 2025', 'June 2025', 'April 2025', 'May 2025', 'June 2025']
2025-07-22 22:25:20,342 - DEBUG - main - Model names: ['Dense', 'GRU', 'LSTM', 'transformer']
2025-07-22 22:25:20,348 - DEBUG - main - Predictions structure: {'Dense': {'April 2025': 1.6158, 'May 2025': 1.5825, 'June 2025': 1.5041}, 'GRU': {'April 2025': 1.8661, 'May 2025': 1.6706, 'June 2025': 1.2447}, 'LSTM': {'April 2025': 1.5321, 'May 2025': 1.4979, 'June 2025': 1.4128}, 'transformer': {'April 2025': 1.4832, 'May 2025': 1.6103, 'June 2025': 1.3905}}
2025-07-22 22:25:20,348 - DEBUG - main - Loading test metrics for best model: C:\Users\alber\anti-malarial-demand-forecast\data\test_metrics.csv
2025-07-22 22:25:20,350 - DEBUG - main - Test MAEs: {'Dense': 0.099775786201, 'LSTM': 0.219373166561, 'GRU': 0.087615636488, 'transformer': 0.253565068046}, Best model: GRU
2025-07-22 22:25:20,350 - DEBUG - main - Loading input data for last 6 months: C:\Users\alber\anti-malarial-demand-forecast\data\raw_climate_ddd_merged_data.csv
2025-07-22 22:25:20,359 - DEBUG - main - Last 6 months dates: ['2024-10-01', '2024-11-01', '2024-12-01', '2025-01-01', '2025-02-01', '2025-03-01']
2025-07-22 22:25:20,360 - INFO - main - Returning predictions: 4 models, best_model: GRU
2025-07-22 22:25:20,360 - DEBUG - main - Response sample: {'Dense': {'April 2025': 1.6158, 'May 2025': 1.5825, 'June 2025': 1.5041}, 'GRU': {'April 2025': 1.8661, 'May 2025': 1.6706, 'June 2025': 1.2447}, 'LSTM': {'April 2025': 1.5321, 'May 2025': 1.4979, 'June 2025': 1.4128}, 'transformer': {'April 2025': 1.4832, 'May 2025': 1.6103, 'June 2025': 1.3905}}
2025-07-22 22:25:20,361 - DEBUG - main - Response: /api/input-data - Status: 200 - Client IP: 127.0.0.1 - Duration: 56.16ms
2025-07-22 22:25:20,363 - DEBUG - main - Response: /api/test-metrics - Status: 200 - Client IP: 127.0.0.1 - Duration: 57.47ms
2025-07-22 22:25:20,363 - DEBUG - main - Response: /api/predictions - Status: 200 - Client IP: 127.0.0.1 - Duration: 56.47ms
2025-07-22 22:36:39,262 - DEBUG - main - Request: GET /static/index.html - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'cache-control': 'max-age=0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'dnt': '1', 'upgrade-insecure-requests': '1', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'sec-fetch-site': 'none', 'sec-fetch-mode': 'navigate', 'sec-fetch-user': '?1', 'sec-fetch-dest': 'document', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4', 'if-none-match': '"af4248454d0819ed5c830e6c9ddeb6e9"', 'if-modified-since': 'Tue, 22 Jul 2025 19:06:30 GMT'}
2025-07-22 22:36:39,264 - DEBUG - main - Response: /static/index.html - Status: 304 - Client IP: 127.0.0.1 - Duration: 2.00ms
2025-07-22 22:36:39,314 - DEBUG - main - Request: GET /.well-known/appspecific/com.chrome.devtools.json - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'no-cors', 'sec-fetch-dest': 'empty', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 22:36:39,314 - ERROR - main - 404 Not Found: GET /.well-known/appspecific/com.chrome.devtools.json - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'no-cors', 'sec-fetch-dest': 'empty', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 22:36:39,314 - DEBUG - main - Response: /.well-known/appspecific/com.chrome.devtools.json - Status: 404 - Client IP: 127.0.0.1 - Duration: 1.00ms
2025-07-22 22:36:39,456 - DEBUG - main - Request: GET /api/input-data - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/static/index.html', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 22:36:39,457 - DEBUG - main - Received request for /api/input-data
2025-07-22 22:36:39,457 - DEBUG - main - Loading CSV: C:\Users\alber\anti-malarial-demand-forecast\data\raw_climate_ddd_merged_data.csv
2025-07-22 22:36:39,461 - DEBUG - main - Loaded raw_climate_ddd_merged_data.csv: 99 data rows, columns: ['year', 'month', 'ddd_demand', 'avg_temp_max', 'avg_temp_min', 'avg_humidity', 'total_precipitation', 'total_sunshine_hours']
2025-07-22 22:36:39,462 - DEBUG - main - First row: {'year': 2017.0, 'month': 1.0, 'ddd_demand': 0.8647902406163, 'avg_temp_max': 31.48, 'avg_temp_min': 18.21, 'avg_humidity': 45.61, 'total_precipitation': 1566.1, 'total_sunshine_hours': 40921.04}
2025-07-22 22:36:39,462 - DEBUG - main - Data types: {'year': dtype('int64'), 'month': dtype('int64'), 'ddd_demand': dtype('float64'), 'avg_temp_max': dtype('float64'), 'avg_temp_min': dtype('float64'), 'avg_humidity': dtype('float64'), 'total_precipitation': dtype('float64'), 'total_sunshine_hours': dtype('float64')}
2025-07-22 22:36:39,471 - DEBUG - main - Data validation passed
2025-07-22 22:36:39,507 - DEBUG - main - Selected last 12 rows: ['2024-04-01', '2024-05-01', '2024-06-01', '2024-07-01', '2024-08-01', '2024-09-01', '2024-10-01', '2024-11-01', '2024-12-01', '2025-01-01', '2025-02-01', '2025-03-01']
2025-07-22 22:36:39,508 - DEBUG - main - Computed stats: {'max_temp_avg': 28.782501220703125, 'min_temp_avg': 18.127500534057617, 'humidity_avg': 68.30166625976562, 'precip_total': 141847.609375, 'sunshine_total': 445130.0, 'current_demand': 1.7332526445388794}
2025-07-22 22:36:39,512 - INFO - main - Returning input data: 12 rows, stats keys: ['max_temp_avg', 'min_temp_avg', 'humidity_avg', 'precip_total', 'sunshine_total', 'current_demand']
2025-07-22 22:36:39,513 - DEBUG - main - CSV output sample: year,month,ddd_demand,avg_temp_max,avg_temp_min,avg_humidity,total_precipitation,total_sunshine_hours
2024,4,1.7882762,27.72,18.62,78.3,21083.2,34248.21
2024,5,1.6331059,28.17,18.63,75.1,12969.0,37863...
2025-07-22 22:36:39,513 - DEBUG - main - Request: GET /api/test-metrics - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/static/index.html', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 22:36:39,514 - DEBUG - main - Received request for /api/test-metrics
2025-07-22 22:36:39,514 - DEBUG - main - Loading CSV: C:\Users\alber\anti-malarial-demand-forecast\data\test_metrics.csv
2025-07-22 22:36:39,516 - DEBUG - main - Loaded test_metrics.csv: 4 rows, columns: ['model_name', 'mae_sum', 'mae', 't+1_mae', 't+1_mae.1', 't+1_mae.2']
2025-07-22 22:36:39,516 - DEBUG - main - First row: {'model_name': 'Dense', 'mae_sum': 0.299327358603, 'mae': 0.099775786201, 't+1_mae': 0.070946060121, 't+1_mae.1': 0.070946060121, 't+1_mae.2': 0.070946060121}
2025-07-22 22:36:39,517 - INFO - main - Returning test metrics: 4 rows
2025-07-22 22:36:39,517 - DEBUG - main - Response sample: [{'model_name': 'Dense', 'mae_sum': 0.299327358603, 'mae': 0.099775786201, 't+1_mae': 0.070946060121, 't+1_mae.1': 0.070946060121, 't+1_mae.2': 0.070946060121}]
2025-07-22 22:36:39,518 - DEBUG - main - Response: /api/input-data - Status: 200 - Client IP: 127.0.0.1 - Duration: 61.44ms
2025-07-22 22:36:39,518 - DEBUG - main - Response: /api/test-metrics - Status: 200 - Client IP: 127.0.0.1 - Duration: 5.00ms
2025-07-22 22:36:39,520 - DEBUG - main - Request: GET /api/predictions - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/static/index.html', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 22:36:39,520 - DEBUG - main - Received request for /api/predictions
2025-07-22 22:36:39,520 - DEBUG - main - Loading CSV: C:\Users\alber\anti-malarial-demand-forecast\data\predictions.csv
2025-07-22 22:36:39,522 - DEBUG - main - Loaded predictions.csv: 12 rows, columns: ['model_name', 'date', 'predicted_demand']
2025-07-22 22:36:39,522 - DEBUG - main - First row: {'model_name': 'Dense', 'date': '2025-04-01', 'predicted_demand': 1.6158}
2025-07-22 22:36:39,523 - DEBUG - main - Raw dates: ['2025-04-01', '2025-05-01', '2025-06-01', '2025-04-01', '2025-05-01', '2025-06-01', '2025-04-01', '2025-05-01', '2025-06-01', '2025-04-01', '2025-05-01', '2025-06-01']
2025-07-22 22:36:39,524 - DEBUG - main - Formatted dates: ['April 2025', 'May 2025', 'June 2025', 'April 2025', 'May 2025', 'June 2025', 'April 2025', 'May 2025', 'June 2025', 'April 2025', 'May 2025', 'June 2025']
2025-07-22 22:36:39,525 - DEBUG - main - Model names: ['Dense', 'GRU', 'LSTM', 'transformer']
2025-07-22 22:36:39,530 - DEBUG - main - Predictions structure: {'Dense': {'April 2025': 1.6158, 'May 2025': 1.5825, 'June 2025': 1.5041}, 'GRU': {'April 2025': 1.8661, 'May 2025': 1.6706, 'June 2025': 1.2447}, 'LSTM': {'April 2025': 1.5321, 'May 2025': 1.4979, 'June 2025': 1.4128}, 'transformer': {'April 2025': 1.4832, 'May 2025': 1.6103, 'June 2025': 1.3905}}
2025-07-22 22:36:39,530 - DEBUG - main - Loading test metrics for best model: C:\Users\alber\anti-malarial-demand-forecast\data\test_metrics.csv
2025-07-22 22:36:39,531 - DEBUG - main - Test MAEs: {'Dense': 0.099775786201, 'LSTM': 0.219373166561, 'GRU': 0.087615636488, 'transformer': 0.253565068046}, Best model: GRU
2025-07-22 22:36:39,531 - DEBUG - main - Loading input data for last 6 months: C:\Users\alber\anti-malarial-demand-forecast\data\raw_climate_ddd_merged_data.csv
2025-07-22 22:36:39,536 - DEBUG - main - Last 6 months dates: ['2024-10-01', '2024-11-01', '2024-12-01', '2025-01-01', '2025-02-01', '2025-03-01']
2025-07-22 22:36:39,537 - INFO - main - Returning predictions: 4 models, best_model: GRU
2025-07-22 22:36:39,537 - DEBUG - main - Response sample: {'Dense': {'April 2025': 1.6158, 'May 2025': 1.5825, 'June 2025': 1.5041}, 'GRU': {'April 2025': 1.8661, 'May 2025': 1.6706, 'June 2025': 1.2447}, 'LSTM': {'April 2025': 1.5321, 'May 2025': 1.4979, 'June 2025': 1.4128}, 'transformer': {'April 2025': 1.4832, 'May 2025': 1.6103, 'June 2025': 1.3905}}
2025-07-22 22:36:39,538 - DEBUG - main - Response: /api/predictions - Status: 200 - Client IP: 127.0.0.1 - Duration: 18.06ms
2025-07-22 22:57:04,969 - DEBUG - main - Mounted static directory at /static: C:\Users\alber\anti-malarial-demand-forecast\static
2025-07-22 22:57:04,970 - DEBUG - main - Starting application
2025-07-22 22:57:04,970 - DEBUG - main - Data directory exists: C:\Users\alber\anti-malarial-demand-forecast\data
2025-07-22 22:57:04,970 - DEBUG - main - Static directory exists: C:\Users\alber\anti-malarial-demand-forecast\static
2025-07-22 22:57:04,970 - DEBUG - main - Found required file: C:\Users\alber\anti-malarial-demand-forecast\data\raw_climate_ddd_merged_data.csv
2025-07-22 22:57:04,971 - DEBUG - main - Found required file: C:\Users\alber\anti-malarial-demand-forecast\data\test_metrics.csv
2025-07-22 22:57:04,971 - DEBUG - main - Found required file: C:\Users\alber\anti-malarial-demand-forecast\data\predictions.csv
2025-07-22 22:57:04,974 - DEBUG - main - raw_climate_ddd_merged_data.csv: 99 data rows, columns: ['year', 'month', 'ddd_demand', 'avg_temp_max', 'avg_temp_min', 'avg_humidity', 'total_precipitation', 'total_sunshine_hours']
2025-07-22 22:57:04,974 - DEBUG - main - First row: {'year': 2017.0, 'month': 1.0, 'ddd_demand': 0.8647902406163, 'avg_temp_max': 31.48, 'avg_temp_min': 18.21, 'avg_humidity': 45.61, 'total_precipitation': 1566.1, 'total_sunshine_hours': 40921.04}
2025-07-22 22:57:04,976 - DEBUG - main - Validated test_metrics.csv: 4 rows, columns: ['model_name', 'mae_sum', 'mae', 't+1_mae', 't+1_mae.1', 't+1_mae.2']
2025-07-22 22:57:04,977 - DEBUG - main - Validated predictions.csv: 12 rows, columns: ['model_name', 'date', 'predicted_demand']
2025-07-22 22:57:04,977 - INFO - main - Startup validation completed successfully
2025-07-22 22:57:24,042 - DEBUG - main - Request: GET /static/index.html - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'cache-control': 'max-age=0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'dnt': '1', 'upgrade-insecure-requests': '1', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'sec-fetch-site': 'none', 'sec-fetch-mode': 'navigate', 'sec-fetch-user': '?1', 'sec-fetch-dest': 'document', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4', 'if-none-match': '"af4248454d0819ed5c830e6c9ddeb6e9"', 'if-modified-since': 'Tue, 22 Jul 2025 19:06:30 GMT'}
2025-07-22 22:57:24,151 - DEBUG - main - Response: /static/index.html - Status: 200 - Client IP: 127.0.0.1 - Duration: 108.99ms
2025-07-22 22:57:24,197 - DEBUG - main - Request: GET /.well-known/appspecific/com.chrome.devtools.json - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'no-cors', 'sec-fetch-dest': 'empty', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 22:57:24,197 - ERROR - main - 404 Not Found: GET /.well-known/appspecific/com.chrome.devtools.json - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'no-cors', 'sec-fetch-dest': 'empty', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 22:57:24,198 - DEBUG - main - Response: /.well-known/appspecific/com.chrome.devtools.json - Status: 404 - Client IP: 127.0.0.1 - Duration: 0.00ms
2025-07-22 22:57:24,423 - DEBUG - main - Request: GET /api/input-data - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/static/index.html', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 22:57:24,424 - DEBUG - main - Received request for /api/input-data
2025-07-22 22:57:24,424 - DEBUG - main - Loading CSV: C:\Users\alber\anti-malarial-demand-forecast\data\raw_climate_ddd_merged_data.csv
2025-07-22 22:57:24,428 - DEBUG - main - Loaded raw_climate_ddd_merged_data.csv: 99 data rows, columns: ['year', 'month', 'ddd_demand', 'avg_temp_max', 'avg_temp_min', 'avg_humidity', 'total_precipitation', 'total_sunshine_hours']
2025-07-22 22:57:24,429 - DEBUG - main - First row: {'year': 2017.0, 'month': 1.0, 'ddd_demand': 0.8647902406163, 'avg_temp_max': 31.48, 'avg_temp_min': 18.21, 'avg_humidity': 45.61, 'total_precipitation': 1566.1, 'total_sunshine_hours': 40921.04}
2025-07-22 22:57:24,430 - DEBUG - main - Data types: {'year': dtype('int64'), 'month': dtype('int64'), 'ddd_demand': dtype('float64'), 'avg_temp_max': dtype('float64'), 'avg_temp_min': dtype('float64'), 'avg_humidity': dtype('float64'), 'total_precipitation': dtype('float64'), 'total_sunshine_hours': dtype('float64')}
2025-07-22 22:57:24,437 - DEBUG - main - Data validation passed
2025-07-22 22:57:24,454 - DEBUG - main - Selected last 12 rows: ['2024-04-01', '2024-05-01', '2024-06-01', '2024-07-01', '2024-08-01', '2024-09-01', '2024-10-01', '2024-11-01', '2024-12-01', '2025-01-01', '2025-02-01', '2025-03-01']
2025-07-22 22:57:24,455 - DEBUG - main - Computed stats: {'max_temp_avg': 28.782501220703125, 'min_temp_avg': 18.127500534057617, 'humidity_avg': 68.30166625976562, 'precip_total': 141847.609375, 'sunshine_total': 445130.0, 'current_demand': 1.7332526445388794}
2025-07-22 22:57:24,459 - INFO - main - Returning input data: 12 rows, stats keys: ['max_temp_avg', 'min_temp_avg', 'humidity_avg', 'precip_total', 'sunshine_total', 'current_demand']
2025-07-22 22:57:24,459 - DEBUG - main - CSV output sample: year,month,ddd_demand,avg_temp_max,avg_temp_min,avg_humidity,total_precipitation,total_sunshine_hours
2024,4,1.7882762,27.72,18.62,78.3,21083.2,34248.21
2024,5,1.6331059,28.17,18.63,75.1,12969.0,37863...
2025-07-22 22:57:24,460 - DEBUG - main - Request: GET /api/test-metrics - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/static/index.html', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 22:57:24,460 - DEBUG - main - Request: GET /api/predictions - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/static/index.html', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 22:57:24,461 - DEBUG - main - Received request for /api/test-metrics
2025-07-22 22:57:24,461 - DEBUG - main - Loading CSV: C:\Users\alber\anti-malarial-demand-forecast\data\test_metrics.csv
2025-07-22 22:57:24,464 - DEBUG - main - Loaded test_metrics.csv: 4 rows, columns: ['model_name', 'mae_sum', 'mae', 't+1_mae', 't+1_mae.1', 't+1_mae.2']
2025-07-22 22:57:24,465 - DEBUG - main - First row: {'model_name': 'Dense', 'mae_sum': 0.299327358603, 'mae': 0.099775786201, 't+1_mae': 0.070946060121, 't+1_mae.1': 0.070946060121, 't+1_mae.2': 0.070946060121}
2025-07-22 22:57:24,467 - INFO - main - Returning test metrics: 4 rows
2025-07-22 22:57:24,467 - DEBUG - main - Response sample: [{'model_name': 'Dense', 'mae_sum': 0.299327358603, 'mae': 0.099775786201, 't+1_mae': 0.070946060121, 't+1_mae.1': 0.070946060121, 't+1_mae.2': 0.070946060121}]
2025-07-22 22:57:24,469 - DEBUG - main - Received request for /api/predictions
2025-07-22 22:57:24,469 - DEBUG - main - Loading CSV: C:\Users\alber\anti-malarial-demand-forecast\data\predictions.csv
2025-07-22 22:57:24,473 - DEBUG - main - Loaded predictions.csv: 12 rows, columns: ['model_name', 'date', 'predicted_demand']
2025-07-22 22:57:24,473 - DEBUG - main - First row: {'model_name': 'Dense', 'date': '2025-04-01', 'predicted_demand': 1.6158}
2025-07-22 22:57:24,474 - DEBUG - main - Raw dates: ['2025-04-01', '2025-05-01', '2025-06-01', '2025-04-01', '2025-05-01', '2025-06-01', '2025-04-01', '2025-05-01', '2025-06-01', '2025-04-01', '2025-05-01', '2025-06-01']
2025-07-22 22:57:24,476 - DEBUG - main - Formatted dates: ['April 2025', 'May 2025', 'June 2025', 'April 2025', 'May 2025', 'June 2025', 'April 2025', 'May 2025', 'June 2025', 'April 2025', 'May 2025', 'June 2025']
2025-07-22 22:57:24,476 - DEBUG - main - Model names: ['Dense', 'GRU', 'LSTM', 'transformer']
2025-07-22 22:57:24,481 - DEBUG - main - Predictions structure: {'Dense': {'April 2025': 1.6158, 'May 2025': 1.5825, 'June 2025': 1.5041}, 'GRU': {'April 2025': 1.8661, 'May 2025': 1.6706, 'June 2025': 1.2447}, 'LSTM': {'April 2025': 1.5321, 'May 2025': 1.4979, 'June 2025': 1.4128}, 'transformer': {'April 2025': 1.4832, 'May 2025': 1.6103, 'June 2025': 1.3905}}
2025-07-22 22:57:24,481 - DEBUG - main - Loading test metrics for best model: C:\Users\alber\anti-malarial-demand-forecast\data\test_metrics.csv
2025-07-22 22:57:24,483 - DEBUG - main - Test MAEs: {'Dense': 0.099775786201, 'LSTM': 0.219373166561, 'GRU': 0.087615636488, 'transformer': 0.253565068046}, Best model: GRU
2025-07-22 22:57:24,483 - DEBUG - main - Loading input data for last 6 months: C:\Users\alber\anti-malarial-demand-forecast\data\raw_climate_ddd_merged_data.csv
2025-07-22 22:57:24,490 - DEBUG - main - Last 6 months dates: ['2024-10-01', '2024-11-01', '2024-12-01', '2025-01-01', '2025-02-01', '2025-03-01']
2025-07-22 22:57:24,491 - INFO - main - Returning predictions: 4 models, best_model: GRU
2025-07-22 22:57:24,491 - DEBUG - main - Response sample: {'Dense': {'April 2025': 1.6158, 'May 2025': 1.5825, 'June 2025': 1.5041}, 'GRU': {'April 2025': 1.8661, 'May 2025': 1.6706, 'June 2025': 1.2447}, 'LSTM': {'April 2025': 1.5321, 'May 2025': 1.4979, 'June 2025': 1.4128}, 'transformer': {'April 2025': 1.4832, 'May 2025': 1.6103, 'June 2025': 1.3905}}
2025-07-22 22:57:24,492 - DEBUG - main - Response: /api/input-data - Status: 200 - Client IP: 127.0.0.1 - Duration: 69.20ms
2025-07-22 22:57:24,493 - DEBUG - main - Response: /api/test-metrics - Status: 200 - Client IP: 127.0.0.1 - Duration: 33.06ms
2025-07-22 22:57:24,493 - DEBUG - main - Response: /api/predictions - Status: 200 - Client IP: 127.0.0.1 - Duration: 33.06ms
2025-07-22 23:02:20,619 - DEBUG - main - Request: GET /static/index.html - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'cache-control': 'max-age=0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'dnt': '1', 'upgrade-insecure-requests': '1', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'sec-fetch-site': 'none', 'sec-fetch-mode': 'navigate', 'sec-fetch-user': '?1', 'sec-fetch-dest': 'document', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4', 'if-none-match': '"a9b08aa229cf3d3660f5bbaa4265232d"', 'if-modified-since': 'Tue, 22 Jul 2025 19:56:53 GMT'}
2025-07-22 23:02:20,621 - DEBUG - main - Response: /static/index.html - Status: 304 - Client IP: 127.0.0.1 - Duration: 2.01ms
2025-07-22 23:02:20,678 - DEBUG - main - Request: GET /.well-known/appspecific/com.chrome.devtools.json - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'no-cors', 'sec-fetch-dest': 'empty', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 23:02:20,678 - ERROR - main - 404 Not Found: GET /.well-known/appspecific/com.chrome.devtools.json - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'no-cors', 'sec-fetch-dest': 'empty', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 23:02:20,679 - DEBUG - main - Response: /.well-known/appspecific/com.chrome.devtools.json - Status: 404 - Client IP: 127.0.0.1 - Duration: 1.00ms
2025-07-22 23:02:20,865 - DEBUG - main - Request: GET /api/input-data - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/static/index.html', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 23:02:20,865 - DEBUG - main - Request: GET /api/test-metrics - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/static/index.html', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 23:02:20,865 - DEBUG - main - Received request for /api/input-data
2025-07-22 23:02:20,866 - DEBUG - main - Loading CSV: C:\Users\alber\anti-malarial-demand-forecast\data\raw_climate_ddd_merged_data.csv
2025-07-22 23:02:20,869 - DEBUG - main - Loaded raw_climate_ddd_merged_data.csv: 99 data rows, columns: ['year', 'month', 'ddd_demand', 'avg_temp_max', 'avg_temp_min', 'avg_humidity', 'total_precipitation', 'total_sunshine_hours']
2025-07-22 23:02:20,870 - DEBUG - main - First row: {'year': 2017.0, 'month': 1.0, 'ddd_demand': 0.8647902406163, 'avg_temp_max': 31.48, 'avg_temp_min': 18.21, 'avg_humidity': 45.61, 'total_precipitation': 1566.1, 'total_sunshine_hours': 40921.04}
2025-07-22 23:02:20,870 - DEBUG - main - Data types: {'year': dtype('int64'), 'month': dtype('int64'), 'ddd_demand': dtype('float64'), 'avg_temp_max': dtype('float64'), 'avg_temp_min': dtype('float64'), 'avg_humidity': dtype('float64'), 'total_precipitation': dtype('float64'), 'total_sunshine_hours': dtype('float64')}
2025-07-22 23:02:20,877 - DEBUG - main - Data validation passed
2025-07-22 23:02:20,885 - DEBUG - main - Selected last 12 rows: ['2024-04-01', '2024-05-01', '2024-06-01', '2024-07-01', '2024-08-01', '2024-09-01', '2024-10-01', '2024-11-01', '2024-12-01', '2025-01-01', '2025-02-01', '2025-03-01']
2025-07-22 23:02:20,886 - DEBUG - main - Computed stats: {'max_temp_avg': 28.782501220703125, 'min_temp_avg': 18.127500534057617, 'humidity_avg': 68.30166625976562, 'precip_total': 141847.609375, 'sunshine_total': 445130.0, 'current_demand': 1.7332526445388794}
2025-07-22 23:02:20,888 - INFO - main - Returning input data: 12 rows, stats keys: ['max_temp_avg', 'min_temp_avg', 'humidity_avg', 'precip_total', 'sunshine_total', 'current_demand']
2025-07-22 23:02:20,888 - DEBUG - main - CSV output sample: year,month,ddd_demand,avg_temp_max,avg_temp_min,avg_humidity,total_precipitation,total_sunshine_hours
2024,4,1.7882762,27.72,18.62,78.3,21083.2,34248.21
2024,5,1.6331059,28.17,18.63,75.1,12969.0,37863...
2025-07-22 23:02:20,888 - DEBUG - main - Received request for /api/test-metrics
2025-07-22 23:02:20,888 - DEBUG - main - Loading CSV: C:\Users\alber\anti-malarial-demand-forecast\data\test_metrics.csv
2025-07-22 23:02:20,890 - DEBUG - main - Loaded test_metrics.csv: 4 rows, columns: ['model_name', 'mae_sum', 'mae', 't+1_mae', 't+1_mae.1', 't+1_mae.2']
2025-07-22 23:02:20,891 - DEBUG - main - First row: {'model_name': 'Dense', 'mae_sum': 0.299327358603, 'mae': 0.099775786201, 't+1_mae': 0.070946060121, 't+1_mae.1': 0.070946060121, 't+1_mae.2': 0.070946060121}
2025-07-22 23:02:20,892 - INFO - main - Returning test metrics: 4 rows
2025-07-22 23:02:20,892 - DEBUG - main - Response sample: [{'model_name': 'Dense', 'mae_sum': 0.299327358603, 'mae': 0.099775786201, 't+1_mae': 0.070946060121, 't+1_mae.1': 0.070946060121, 't+1_mae.2': 0.070946060121}]
2025-07-22 23:02:20,892 - DEBUG - main - Response: /api/input-data - Status: 200 - Client IP: 127.0.0.1 - Duration: 28.27ms
2025-07-22 23:02:20,893 - DEBUG - main - Response: /api/test-metrics - Status: 200 - Client IP: 127.0.0.1 - Duration: 28.26ms
2025-07-22 23:02:20,894 - DEBUG - main - Request: GET /api/predictions - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/static/index.html', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 23:02:20,895 - DEBUG - main - Received request for /api/predictions
2025-07-22 23:02:20,895 - DEBUG - main - Loading CSV: C:\Users\alber\anti-malarial-demand-forecast\data\predictions.csv
2025-07-22 23:02:20,899 - DEBUG - main - Loaded predictions.csv: 12 rows, columns: ['model_name', 'date', 'predicted_demand']
2025-07-22 23:02:20,900 - DEBUG - main - First row: {'model_name': 'Dense', 'date': '2025-04-01', 'predicted_demand': 1.6158}
2025-07-22 23:02:20,900 - DEBUG - main - Raw dates: ['2025-04-01', '2025-05-01', '2025-06-01', '2025-04-01', '2025-05-01', '2025-06-01', '2025-04-01', '2025-05-01', '2025-06-01', '2025-04-01', '2025-05-01', '2025-06-01']
2025-07-22 23:02:20,902 - DEBUG - main - Formatted dates: ['April 2025', 'May 2025', 'June 2025', 'April 2025', 'May 2025', 'June 2025', 'April 2025', 'May 2025', 'June 2025', 'April 2025', 'May 2025', 'June 2025']
2025-07-22 23:02:20,902 - DEBUG - main - Model names: ['Dense', 'GRU', 'LSTM', 'transformer']
2025-07-22 23:02:20,906 - DEBUG - main - Predictions structure: {'Dense': {'April 2025': 1.6158, 'May 2025': 1.5825, 'June 2025': 1.5041}, 'GRU': {'April 2025': 1.8661, 'May 2025': 1.6706, 'June 2025': 1.2447}, 'LSTM': {'April 2025': 1.5321, 'May 2025': 1.4979, 'June 2025': 1.4128}, 'transformer': {'April 2025': 1.4832, 'May 2025': 1.6103, 'June 2025': 1.3905}}
2025-07-22 23:02:20,906 - DEBUG - main - Loading test metrics for best model: C:\Users\alber\anti-malarial-demand-forecast\data\test_metrics.csv
2025-07-22 23:02:20,908 - DEBUG - main - Test MAEs: {'Dense': 0.099775786201, 'LSTM': 0.219373166561, 'GRU': 0.087615636488, 'transformer': 0.253565068046}, Best model: GRU
2025-07-22 23:02:20,908 - DEBUG - main - Loading input data for last 6 months: C:\Users\alber\anti-malarial-demand-forecast\data\raw_climate_ddd_merged_data.csv
2025-07-22 23:02:20,916 - DEBUG - main - Last 6 months dates: ['2024-10-01', '2024-11-01', '2024-12-01', '2025-01-01', '2025-02-01', '2025-03-01']
2025-07-22 23:02:20,917 - INFO - main - Returning predictions: 4 models, best_model: GRU
2025-07-22 23:02:20,917 - DEBUG - main - Response sample: {'Dense': {'April 2025': 1.6158, 'May 2025': 1.5825, 'June 2025': 1.5041}, 'GRU': {'April 2025': 1.8661, 'May 2025': 1.6706, 'June 2025': 1.2447}, 'LSTM': {'April 2025': 1.5321, 'May 2025': 1.4979, 'June 2025': 1.4128}, 'transformer': {'April 2025': 1.4832, 'May 2025': 1.6103, 'June 2025': 1.3905}}
2025-07-22 23:02:20,917 - DEBUG - main - Response: /api/predictions - Status: 200 - Client IP: 127.0.0.1 - Duration: 23.32ms
2025-07-22 23:02:35,659 - DEBUG - main - Request: GET /static/index.html - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'cache-control': 'max-age=0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'dnt': '1', 'upgrade-insecure-requests': '1', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'sec-fetch-site': 'none', 'sec-fetch-mode': 'navigate', 'sec-fetch-user': '?1', 'sec-fetch-dest': 'document', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4', 'if-none-match': '"a9b08aa229cf3d3660f5bbaa4265232d"', 'if-modified-since': 'Tue, 22 Jul 2025 19:56:53 GMT'}
2025-07-22 23:02:35,660 - DEBUG - main - Response: /static/index.html - Status: 200 - Client IP: 127.0.0.1 - Duration: 2.00ms
2025-07-22 23:02:35,700 - DEBUG - main - Request: GET /.well-known/appspecific/com.chrome.devtools.json - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'no-cors', 'sec-fetch-dest': 'empty', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 23:02:35,700 - ERROR - main - 404 Not Found: GET /.well-known/appspecific/com.chrome.devtools.json - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'no-cors', 'sec-fetch-dest': 'empty', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 23:02:35,700 - DEBUG - main - Response: /.well-known/appspecific/com.chrome.devtools.json - Status: 404 - Client IP: 127.0.0.1 - Duration: 1.00ms
2025-07-22 23:02:35,876 - DEBUG - main - Request: GET /api/input-data - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/static/index.html', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 23:02:35,876 - DEBUG - main - Received request for /api/input-data
2025-07-22 23:02:35,876 - DEBUG - main - Loading CSV: C:\Users\alber\anti-malarial-demand-forecast\data\raw_climate_ddd_merged_data.csv
2025-07-22 23:02:35,878 - DEBUG - main - Loaded raw_climate_ddd_merged_data.csv: 99 data rows, columns: ['year', 'month', 'ddd_demand', 'avg_temp_max', 'avg_temp_min', 'avg_humidity', 'total_precipitation', 'total_sunshine_hours']
2025-07-22 23:02:35,878 - DEBUG - main - First row: {'year': 2017.0, 'month': 1.0, 'ddd_demand': 0.8647902406163, 'avg_temp_max': 31.48, 'avg_temp_min': 18.21, 'avg_humidity': 45.61, 'total_precipitation': 1566.1, 'total_sunshine_hours': 40921.04}
2025-07-22 23:02:35,878 - DEBUG - main - Data types: {'year': dtype('int64'), 'month': dtype('int64'), 'ddd_demand': dtype('float64'), 'avg_temp_max': dtype('float64'), 'avg_temp_min': dtype('float64'), 'avg_humidity': dtype('float64'), 'total_precipitation': dtype('float64'), 'total_sunshine_hours': dtype('float64')}
2025-07-22 23:02:35,885 - DEBUG - main - Data validation passed
2025-07-22 23:02:35,889 - DEBUG - main - Selected last 12 rows: ['2024-04-01', '2024-05-01', '2024-06-01', '2024-07-01', '2024-08-01', '2024-09-01', '2024-10-01', '2024-11-01', '2024-12-01', '2025-01-01', '2025-02-01', '2025-03-01']
2025-07-22 23:02:35,890 - DEBUG - main - Computed stats: {'max_temp_avg': 28.782501220703125, 'min_temp_avg': 18.127500534057617, 'humidity_avg': 68.30166625976562, 'precip_total': 141847.609375, 'sunshine_total': 445130.0, 'current_demand': 1.7332526445388794}
2025-07-22 23:02:35,891 - INFO - main - Returning input data: 12 rows, stats keys: ['max_temp_avg', 'min_temp_avg', 'humidity_avg', 'precip_total', 'sunshine_total', 'current_demand']
2025-07-22 23:02:35,891 - DEBUG - main - CSV output sample: year,month,ddd_demand,avg_temp_max,avg_temp_min,avg_humidity,total_precipitation,total_sunshine_hours
2024,4,1.7882762,27.72,18.62,78.3,21083.2,34248.21
2024,5,1.6331059,28.17,18.63,75.1,12969.0,37863...
2025-07-22 23:02:35,892 - DEBUG - main - Request: GET /api/test-metrics - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/static/index.html', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 23:02:35,892 - DEBUG - main - Received request for /api/test-metrics
2025-07-22 23:02:35,892 - DEBUG - main - Loading CSV: C:\Users\alber\anti-malarial-demand-forecast\data\test_metrics.csv
2025-07-22 23:02:35,894 - DEBUG - main - Loaded test_metrics.csv: 4 rows, columns: ['model_name', 'mae_sum', 'mae', 't+1_mae', 't+1_mae.1', 't+1_mae.2']
2025-07-22 23:02:35,895 - DEBUG - main - First row: {'model_name': 'Dense', 'mae_sum': 0.299327358603, 'mae': 0.099775786201, 't+1_mae': 0.070946060121, 't+1_mae.1': 0.070946060121, 't+1_mae.2': 0.070946060121}
2025-07-22 23:02:35,895 - INFO - main - Returning test metrics: 4 rows
2025-07-22 23:02:35,895 - DEBUG - main - Response sample: [{'model_name': 'Dense', 'mae_sum': 0.299327358603, 'mae': 0.099775786201, 't+1_mae': 0.070946060121, 't+1_mae.1': 0.070946060121, 't+1_mae.2': 0.070946060121}]
2025-07-22 23:02:35,896 - DEBUG - main - Response: /api/input-data - Status: 200 - Client IP: 127.0.0.1 - Duration: 21.44ms
2025-07-22 23:02:35,897 - DEBUG - main - Response: /api/test-metrics - Status: 200 - Client IP: 127.0.0.1 - Duration: 5.45ms
2025-07-22 23:02:35,907 - DEBUG - main - Request: GET /api/predictions - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/static/index.html', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 23:02:35,907 - DEBUG - main - Received request for /api/predictions
2025-07-22 23:02:35,907 - DEBUG - main - Loading CSV: C:\Users\alber\anti-malarial-demand-forecast\data\predictions.csv
2025-07-22 23:02:35,909 - DEBUG - main - Loaded predictions.csv: 12 rows, columns: ['model_name', 'date', 'predicted_demand']
2025-07-22 23:02:35,910 - DEBUG - main - First row: {'model_name': 'Dense', 'date': '2025-04-01', 'predicted_demand': 1.6158}
2025-07-22 23:02:35,910 - DEBUG - main - Raw dates: ['2025-04-01', '2025-05-01', '2025-06-01', '2025-04-01', '2025-05-01', '2025-06-01', '2025-04-01', '2025-05-01', '2025-06-01', '2025-04-01', '2025-05-01', '2025-06-01']
2025-07-22 23:02:35,914 - DEBUG - main - Formatted dates: ['April 2025', 'May 2025', 'June 2025', 'April 2025', 'May 2025', 'June 2025', 'April 2025', 'May 2025', 'June 2025', 'April 2025', 'May 2025', 'June 2025']
2025-07-22 23:02:35,914 - DEBUG - main - Model names: ['Dense', 'GRU', 'LSTM', 'transformer']
2025-07-22 23:02:35,919 - DEBUG - main - Predictions structure: {'Dense': {'April 2025': 1.6158, 'May 2025': 1.5825, 'June 2025': 1.5041}, 'GRU': {'April 2025': 1.8661, 'May 2025': 1.6706, 'June 2025': 1.2447}, 'LSTM': {'April 2025': 1.5321, 'May 2025': 1.4979, 'June 2025': 1.4128}, 'transformer': {'April 2025': 1.4832, 'May 2025': 1.6103, 'June 2025': 1.3905}}
2025-07-22 23:02:35,919 - DEBUG - main - Loading test metrics for best model: C:\Users\alber\anti-malarial-demand-forecast\data\test_metrics.csv
2025-07-22 23:02:35,921 - DEBUG - main - Test MAEs: {'Dense': 0.099775786201, 'LSTM': 0.219373166561, 'GRU': 0.087615636488, 'transformer': 0.253565068046}, Best model: GRU
2025-07-22 23:02:35,921 - DEBUG - main - Loading input data for last 6 months: C:\Users\alber\anti-malarial-demand-forecast\data\raw_climate_ddd_merged_data.csv
2025-07-22 23:02:35,926 - DEBUG - main - Last 6 months dates: ['2024-10-01', '2024-11-01', '2024-12-01', '2025-01-01', '2025-02-01', '2025-03-01']
2025-07-22 23:02:35,926 - INFO - main - Returning predictions: 4 models, best_model: GRU
2025-07-22 23:02:35,927 - DEBUG - main - Response sample: {'Dense': {'April 2025': 1.6158, 'May 2025': 1.5825, 'June 2025': 1.5041}, 'GRU': {'April 2025': 1.8661, 'May 2025': 1.6706, 'June 2025': 1.2447}, 'LSTM': {'April 2025': 1.5321, 'May 2025': 1.4979, 'June 2025': 1.4128}, 'transformer': {'April 2025': 1.4832, 'May 2025': 1.6103, 'June 2025': 1.3905}}
2025-07-22 23:02:35,927 - DEBUG - main - Response: /api/predictions - Status: 200 - Client IP: 127.0.0.1 - Duration: 19.66ms
2025-07-22 23:04:57,837 - DEBUG - main - Request: GET /static/index.html - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'cache-control': 'max-age=0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'dnt': '1', 'upgrade-insecure-requests': '1', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'sec-fetch-site': 'none', 'sec-fetch-mode': 'navigate', 'sec-fetch-user': '?1', 'sec-fetch-dest': 'document', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4', 'if-none-match': '"c45b0c3ad84a998c5d534fbcb7906674"', 'if-modified-since': 'Tue, 22 Jul 2025 20:02:33 GMT'}
2025-07-22 23:04:57,839 - DEBUG - main - Response: /static/index.html - Status: 200 - Client IP: 127.0.0.1 - Duration: 2.00ms
2025-07-22 23:04:57,879 - DEBUG - main - Request: GET /.well-known/appspecific/com.chrome.devtools.json - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'no-cors', 'sec-fetch-dest': 'empty', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 23:04:57,879 - ERROR - main - 404 Not Found: GET /.well-known/appspecific/com.chrome.devtools.json - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'no-cors', 'sec-fetch-dest': 'empty', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 23:04:57,880 - DEBUG - main - Response: /.well-known/appspecific/com.chrome.devtools.json - Status: 404 - Client IP: 127.0.0.1 - Duration: 1.00ms
2025-07-22 23:04:58,045 - DEBUG - main - Request: GET /api/input-data - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/static/index.html', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 23:04:58,045 - DEBUG - main - Received request for /api/input-data
2025-07-22 23:04:58,045 - DEBUG - main - Loading CSV: C:\Users\alber\anti-malarial-demand-forecast\data\raw_climate_ddd_merged_data.csv
2025-07-22 23:04:58,047 - DEBUG - main - Loaded raw_climate_ddd_merged_data.csv: 99 data rows, columns: ['year', 'month', 'ddd_demand', 'avg_temp_max', 'avg_temp_min', 'avg_humidity', 'total_precipitation', 'total_sunshine_hours']
2025-07-22 23:04:58,048 - DEBUG - main - First row: {'year': 2017.0, 'month': 1.0, 'ddd_demand': 0.8647902406163, 'avg_temp_max': 31.48, 'avg_temp_min': 18.21, 'avg_humidity': 45.61, 'total_precipitation': 1566.1, 'total_sunshine_hours': 40921.04}
2025-07-22 23:04:58,048 - DEBUG - main - Data types: {'year': dtype('int64'), 'month': dtype('int64'), 'ddd_demand': dtype('float64'), 'avg_temp_max': dtype('float64'), 'avg_temp_min': dtype('float64'), 'avg_humidity': dtype('float64'), 'total_precipitation': dtype('float64'), 'total_sunshine_hours': dtype('float64')}
2025-07-22 23:04:58,056 - DEBUG - main - Data validation passed
2025-07-22 23:04:58,060 - DEBUG - main - Selected last 12 rows: ['2024-04-01', '2024-05-01', '2024-06-01', '2024-07-01', '2024-08-01', '2024-09-01', '2024-10-01', '2024-11-01', '2024-12-01', '2025-01-01', '2025-02-01', '2025-03-01']
2025-07-22 23:04:58,061 - DEBUG - main - Computed stats: {'max_temp_avg': 28.782501220703125, 'min_temp_avg': 18.127500534057617, 'humidity_avg': 68.30166625976562, 'precip_total': 141847.609375, 'sunshine_total': 445130.0, 'current_demand': 1.7332526445388794}
2025-07-22 23:04:58,064 - INFO - main - Returning input data: 12 rows, stats keys: ['max_temp_avg', 'min_temp_avg', 'humidity_avg', 'precip_total', 'sunshine_total', 'current_demand']
2025-07-22 23:04:58,064 - DEBUG - main - CSV output sample: year,month,ddd_demand,avg_temp_max,avg_temp_min,avg_humidity,total_precipitation,total_sunshine_hours
2024,4,1.7882762,27.72,18.62,78.3,21083.2,34248.21
2024,5,1.6331059,28.17,18.63,75.1,12969.0,37863...
2025-07-22 23:04:58,065 - DEBUG - main - Request: GET /api/test-metrics - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/static/index.html', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 23:04:58,065 - DEBUG - main - Received request for /api/test-metrics
2025-07-22 23:04:58,065 - DEBUG - main - Loading CSV: C:\Users\alber\anti-malarial-demand-forecast\data\test_metrics.csv
2025-07-22 23:04:58,068 - DEBUG - main - Loaded test_metrics.csv: 4 rows, columns: ['model_name', 'mae_sum', 'mae', 't+1_mae', 't+1_mae.1', 't+1_mae.2']
2025-07-22 23:04:58,069 - DEBUG - main - First row: {'model_name': 'Dense', 'mae_sum': 0.299327358603, 'mae': 0.099775786201, 't+1_mae': 0.070946060121, 't+1_mae.1': 0.070946060121, 't+1_mae.2': 0.070946060121}
2025-07-22 23:04:58,073 - INFO - main - Returning test metrics: 4 rows
2025-07-22 23:04:58,073 - DEBUG - main - Response sample: [{'model_name': 'Dense', 'mae_sum': 0.299327358603, 'mae': 0.099775786201, 't+1_mae': 0.070946060121, 't+1_mae.1': 0.070946060121, 't+1_mae.2': 0.070946060121}]
2025-07-22 23:04:58,074 - DEBUG - main - Response: /api/input-data - Status: 200 - Client IP: 127.0.0.1 - Duration: 30.00ms
2025-07-22 23:04:58,076 - DEBUG - main - Response: /api/test-metrics - Status: 200 - Client IP: 127.0.0.1 - Duration: 12.00ms
2025-07-22 23:04:58,078 - DEBUG - main - Request: GET /api/predictions - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/static/index.html', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 23:04:58,079 - DEBUG - main - Received request for /api/predictions
2025-07-22 23:04:58,079 - DEBUG - main - Loading CSV: C:\Users\alber\anti-malarial-demand-forecast\data\predictions.csv
2025-07-22 23:04:58,081 - DEBUG - main - Loaded predictions.csv: 12 rows, columns: ['model_name', 'date', 'predicted_demand']
2025-07-22 23:04:58,082 - DEBUG - main - First row: {'model_name': 'Dense', 'date': '2025-04-01', 'predicted_demand': 1.6158}
2025-07-22 23:04:58,082 - DEBUG - main - Raw dates: ['2025-04-01', '2025-05-01', '2025-06-01', '2025-04-01', '2025-05-01', '2025-06-01', '2025-04-01', '2025-05-01', '2025-06-01', '2025-04-01', '2025-05-01', '2025-06-01']
2025-07-22 23:04:58,084 - DEBUG - main - Formatted dates: ['April 2025', 'May 2025', 'June 2025', 'April 2025', 'May 2025', 'June 2025', 'April 2025', 'May 2025', 'June 2025', 'April 2025', 'May 2025', 'June 2025']
2025-07-22 23:04:58,084 - DEBUG - main - Model names: ['Dense', 'GRU', 'LSTM', 'transformer']
2025-07-22 23:04:58,089 - DEBUG - main - Predictions structure: {'Dense': {'April 2025': 1.6158, 'May 2025': 1.5825, 'June 2025': 1.5041}, 'GRU': {'April 2025': 1.8661, 'May 2025': 1.6706, 'June 2025': 1.2447}, 'LSTM': {'April 2025': 1.5321, 'May 2025': 1.4979, 'June 2025': 1.4128}, 'transformer': {'April 2025': 1.4832, 'May 2025': 1.6103, 'June 2025': 1.3905}}
2025-07-22 23:04:58,089 - DEBUG - main - Loading test metrics for best model: C:\Users\alber\anti-malarial-demand-forecast\data\test_metrics.csv
2025-07-22 23:04:58,091 - DEBUG - main - Test MAEs: {'Dense': 0.099775786201, 'LSTM': 0.219373166561, 'GRU': 0.087615636488, 'transformer': 0.253565068046}, Best model: GRU
2025-07-22 23:04:58,091 - DEBUG - main - Loading input data for last 6 months: C:\Users\alber\anti-malarial-demand-forecast\data\raw_climate_ddd_merged_data.csv
2025-07-22 23:04:58,098 - DEBUG - main - Last 6 months dates: ['2024-10-01', '2024-11-01', '2024-12-01', '2025-01-01', '2025-02-01', '2025-03-01']
2025-07-22 23:04:58,098 - INFO - main - Returning predictions: 4 models, best_model: GRU
2025-07-22 23:04:58,098 - DEBUG - main - Response sample: {'Dense': {'April 2025': 1.6158, 'May 2025': 1.5825, 'June 2025': 1.5041}, 'GRU': {'April 2025': 1.8661, 'May 2025': 1.6706, 'June 2025': 1.2447}, 'LSTM': {'April 2025': 1.5321, 'May 2025': 1.4979, 'June 2025': 1.4128}, 'transformer': {'April 2025': 1.4832, 'May 2025': 1.6103, 'June 2025': 1.3905}}
2025-07-22 23:04:58,099 - DEBUG - main - Response: /api/predictions - Status: 200 - Client IP: 127.0.0.1 - Duration: 21.01ms
2025-07-22 23:05:32,381 - DEBUG - main - Request: GET /static/index.html - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'cache-control': 'max-age=0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'dnt': '1', 'upgrade-insecure-requests': '1', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'sec-fetch-site': 'none', 'sec-fetch-mode': 'navigate', 'sec-fetch-user': '?1', 'sec-fetch-dest': 'document', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4', 'if-none-match': '"8f4c69affe64e83cbfebde3abb3805d5"', 'if-modified-since': 'Tue, 22 Jul 2025 20:04:45 GMT'}
2025-07-22 23:05:32,382 - DEBUG - main - Response: /static/index.html - Status: 304 - Client IP: 127.0.0.1 - Duration: 1.00ms
2025-07-22 23:05:32,435 - DEBUG - main - Request: GET /.well-known/appspecific/com.chrome.devtools.json - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'no-cors', 'sec-fetch-dest': 'empty', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 23:05:32,435 - ERROR - main - 404 Not Found: GET /.well-known/appspecific/com.chrome.devtools.json - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'no-cors', 'sec-fetch-dest': 'empty', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 23:05:32,436 - DEBUG - main - Response: /.well-known/appspecific/com.chrome.devtools.json - Status: 404 - Client IP: 127.0.0.1 - Duration: 1.00ms
2025-07-22 23:05:32,614 - DEBUG - main - Request: GET /api/input-data - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/static/index.html', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 23:05:32,614 - DEBUG - main - Received request for /api/input-data
2025-07-22 23:05:32,614 - DEBUG - main - Loading CSV: C:\Users\alber\anti-malarial-demand-forecast\data\raw_climate_ddd_merged_data.csv
2025-07-22 23:05:32,616 - DEBUG - main - Loaded raw_climate_ddd_merged_data.csv: 99 data rows, columns: ['year', 'month', 'ddd_demand', 'avg_temp_max', 'avg_temp_min', 'avg_humidity', 'total_precipitation', 'total_sunshine_hours']
2025-07-22 23:05:32,616 - DEBUG - main - First row: {'year': 2017.0, 'month': 1.0, 'ddd_demand': 0.8647902406163, 'avg_temp_max': 31.48, 'avg_temp_min': 18.21, 'avg_humidity': 45.61, 'total_precipitation': 1566.1, 'total_sunshine_hours': 40921.04}
2025-07-22 23:05:32,617 - DEBUG - main - Data types: {'year': dtype('int64'), 'month': dtype('int64'), 'ddd_demand': dtype('float64'), 'avg_temp_max': dtype('float64'), 'avg_temp_min': dtype('float64'), 'avg_humidity': dtype('float64'), 'total_precipitation': dtype('float64'), 'total_sunshine_hours': dtype('float64')}
2025-07-22 23:05:32,623 - DEBUG - main - Data validation passed
2025-07-22 23:05:32,628 - DEBUG - main - Selected last 12 rows: ['2024-04-01', '2024-05-01', '2024-06-01', '2024-07-01', '2024-08-01', '2024-09-01', '2024-10-01', '2024-11-01', '2024-12-01', '2025-01-01', '2025-02-01', '2025-03-01']
2025-07-22 23:05:32,630 - DEBUG - main - Computed stats: {'max_temp_avg': 28.782501220703125, 'min_temp_avg': 18.127500534057617, 'humidity_avg': 68.30166625976562, 'precip_total': 141847.609375, 'sunshine_total': 445130.0, 'current_demand': 1.7332526445388794}
2025-07-22 23:05:32,631 - INFO - main - Returning input data: 12 rows, stats keys: ['max_temp_avg', 'min_temp_avg', 'humidity_avg', 'precip_total', 'sunshine_total', 'current_demand']
2025-07-22 23:05:32,631 - DEBUG - main - CSV output sample: year,month,ddd_demand,avg_temp_max,avg_temp_min,avg_humidity,total_precipitation,total_sunshine_hours
2024,4,1.7882762,27.72,18.62,78.3,21083.2,34248.21
2024,5,1.6331059,28.17,18.63,75.1,12969.0,37863...
2025-07-22 23:05:32,632 - DEBUG - main - Response: /api/input-data - Status: 200 - Client IP: 127.0.0.1 - Duration: 18.59ms
2025-07-22 23:05:32,638 - DEBUG - main - Request: GET /api/test-metrics - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/static/index.html', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 23:05:32,639 - DEBUG - main - Received request for /api/test-metrics
2025-07-22 23:05:32,639 - DEBUG - main - Loading CSV: C:\Users\alber\anti-malarial-demand-forecast\data\test_metrics.csv
2025-07-22 23:05:32,641 - DEBUG - main - Loaded test_metrics.csv: 4 rows, columns: ['model_name', 'mae_sum', 'mae', 't+1_mae', 't+1_mae.1', 't+1_mae.2']
2025-07-22 23:05:32,641 - DEBUG - main - First row: {'model_name': 'Dense', 'mae_sum': 0.299327358603, 'mae': 0.099775786201, 't+1_mae': 0.070946060121, 't+1_mae.1': 0.070946060121, 't+1_mae.2': 0.070946060121}
2025-07-22 23:05:32,642 - INFO - main - Returning test metrics: 4 rows
2025-07-22 23:05:32,642 - DEBUG - main - Response sample: [{'model_name': 'Dense', 'mae_sum': 0.299327358603, 'mae': 0.099775786201, 't+1_mae': 0.070946060121, 't+1_mae.1': 0.070946060121, 't+1_mae.2': 0.070946060121}]
2025-07-22 23:05:32,643 - DEBUG - main - Response: /api/test-metrics - Status: 200 - Client IP: 127.0.0.1 - Duration: 5.51ms
2025-07-22 23:05:32,647 - DEBUG - main - Request: GET /api/predictions - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/static/index.html', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 23:05:32,648 - DEBUG - main - Received request for /api/predictions
2025-07-22 23:05:32,648 - DEBUG - main - Loading CSV: C:\Users\alber\anti-malarial-demand-forecast\data\predictions.csv
2025-07-22 23:05:32,650 - DEBUG - main - Loaded predictions.csv: 12 rows, columns: ['model_name', 'date', 'predicted_demand']
2025-07-22 23:05:32,650 - DEBUG - main - First row: {'model_name': 'Dense', 'date': '2025-04-01', 'predicted_demand': 1.6158}
2025-07-22 23:05:32,650 - DEBUG - main - Raw dates: ['2025-04-01', '2025-05-01', '2025-06-01', '2025-04-01', '2025-05-01', '2025-06-01', '2025-04-01', '2025-05-01', '2025-06-01', '2025-04-01', '2025-05-01', '2025-06-01']
2025-07-22 23:05:32,652 - DEBUG - main - Formatted dates: ['April 2025', 'May 2025', 'June 2025', 'April 2025', 'May 2025', 'June 2025', 'April 2025', 'May 2025', 'June 2025', 'April 2025', 'May 2025', 'June 2025']
2025-07-22 23:05:32,653 - DEBUG - main - Model names: ['Dense', 'GRU', 'LSTM', 'transformer']
2025-07-22 23:05:32,657 - DEBUG - main - Predictions structure: {'Dense': {'April 2025': 1.6158, 'May 2025': 1.5825, 'June 2025': 1.5041}, 'GRU': {'April 2025': 1.8661, 'May 2025': 1.6706, 'June 2025': 1.2447}, 'LSTM': {'April 2025': 1.5321, 'May 2025': 1.4979, 'June 2025': 1.4128}, 'transformer': {'April 2025': 1.4832, 'May 2025': 1.6103, 'June 2025': 1.3905}}
2025-07-22 23:05:32,657 - DEBUG - main - Loading test metrics for best model: C:\Users\alber\anti-malarial-demand-forecast\data\test_metrics.csv
2025-07-22 23:05:32,658 - DEBUG - main - Test MAEs: {'Dense': 0.099775786201, 'LSTM': 0.219373166561, 'GRU': 0.087615636488, 'transformer': 0.253565068046}, Best model: GRU
2025-07-22 23:05:32,658 - DEBUG - main - Loading input data for last 6 months: C:\Users\alber\anti-malarial-demand-forecast\data\raw_climate_ddd_merged_data.csv
2025-07-22 23:05:32,663 - DEBUG - main - Last 6 months dates: ['2024-10-01', '2024-11-01', '2024-12-01', '2025-01-01', '2025-02-01', '2025-03-01']
2025-07-22 23:05:32,664 - INFO - main - Returning predictions: 4 models, best_model: GRU
2025-07-22 23:05:32,664 - DEBUG - main - Response sample: {'Dense': {'April 2025': 1.6158, 'May 2025': 1.5825, 'June 2025': 1.5041}, 'GRU': {'April 2025': 1.8661, 'May 2025': 1.6706, 'June 2025': 1.2447}, 'LSTM': {'April 2025': 1.5321, 'May 2025': 1.4979, 'June 2025': 1.4128}, 'transformer': {'April 2025': 1.4832, 'May 2025': 1.6103, 'June 2025': 1.3905}}
2025-07-22 23:05:32,665 - DEBUG - main - Response: /api/predictions - Status: 200 - Client IP: 127.0.0.1 - Duration: 18.40ms
2025-07-22 23:08:55,600 - DEBUG - main - Request: GET /static/index.html - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'cache-control': 'max-age=0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'dnt': '1', 'upgrade-insecure-requests': '1', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'sec-fetch-site': 'none', 'sec-fetch-mode': 'navigate', 'sec-fetch-user': '?1', 'sec-fetch-dest': 'document', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4', 'if-none-match': '"8f4c69affe64e83cbfebde3abb3805d5"', 'if-modified-since': 'Tue, 22 Jul 2025 20:04:45 GMT'}
2025-07-22 23:08:55,602 - DEBUG - main - Response: /static/index.html - Status: 200 - Client IP: 127.0.0.1 - Duration: 2.07ms
2025-07-22 23:08:55,650 - DEBUG - main - Request: GET /.well-known/appspecific/com.chrome.devtools.json - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'no-cors', 'sec-fetch-dest': 'empty', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 23:08:55,651 - ERROR - main - 404 Not Found: GET /.well-known/appspecific/com.chrome.devtools.json - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'no-cors', 'sec-fetch-dest': 'empty', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 23:08:55,651 - DEBUG - main - Response: /.well-known/appspecific/com.chrome.devtools.json - Status: 404 - Client IP: 127.0.0.1 - Duration: 1.00ms
2025-07-22 23:08:55,806 - DEBUG - main - Request: GET /api/input-data - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/static/index.html', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 23:08:55,807 - DEBUG - main - Received request for /api/input-data
2025-07-22 23:08:55,807 - DEBUG - main - Loading CSV: C:\Users\alber\anti-malarial-demand-forecast\data\raw_climate_ddd_merged_data.csv
2025-07-22 23:08:55,811 - DEBUG - main - Loaded raw_climate_ddd_merged_data.csv: 99 data rows, columns: ['year', 'month', 'ddd_demand', 'avg_temp_max', 'avg_temp_min', 'avg_humidity', 'total_precipitation', 'total_sunshine_hours']
2025-07-22 23:08:55,811 - DEBUG - main - First row: {'year': 2017.0, 'month': 1.0, 'ddd_demand': 0.8647902406163, 'avg_temp_max': 31.48, 'avg_temp_min': 18.21, 'avg_humidity': 45.61, 'total_precipitation': 1566.1, 'total_sunshine_hours': 40921.04}
2025-07-22 23:08:55,811 - DEBUG - main - Data types: {'year': dtype('int64'), 'month': dtype('int64'), 'ddd_demand': dtype('float64'), 'avg_temp_max': dtype('float64'), 'avg_temp_min': dtype('float64'), 'avg_humidity': dtype('float64'), 'total_precipitation': dtype('float64'), 'total_sunshine_hours': dtype('float64')}
2025-07-22 23:08:55,820 - DEBUG - main - Data validation passed
2025-07-22 23:08:55,828 - DEBUG - main - Selected last 12 rows: ['2024-04-01', '2024-05-01', '2024-06-01', '2024-07-01', '2024-08-01', '2024-09-01', '2024-10-01', '2024-11-01', '2024-12-01', '2025-01-01', '2025-02-01', '2025-03-01']
2025-07-22 23:08:55,828 - DEBUG - main - Computed stats: {'max_temp_avg': 28.782501220703125, 'min_temp_avg': 18.127500534057617, 'humidity_avg': 68.30166625976562, 'precip_total': 141847.609375, 'sunshine_total': 445130.0, 'current_demand': 1.7332526445388794}
2025-07-22 23:08:55,830 - INFO - main - Returning input data: 12 rows, stats keys: ['max_temp_avg', 'min_temp_avg', 'humidity_avg', 'precip_total', 'sunshine_total', 'current_demand']
2025-07-22 23:08:55,830 - DEBUG - main - CSV output sample: year,month,ddd_demand,avg_temp_max,avg_temp_min,avg_humidity,total_precipitation,total_sunshine_hours
2024,4,1.7882762,27.72,18.62,78.3,21083.2,34248.21
2024,5,1.6331059,28.17,18.63,75.1,12969.0,37863...
2025-07-22 23:08:55,831 - DEBUG - main - Response: /api/input-data - Status: 200 - Client IP: 127.0.0.1 - Duration: 25.07ms
2025-07-22 23:08:55,831 - DEBUG - main - Request: GET /api/test-metrics - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/static/index.html', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 23:08:55,833 - DEBUG - main - Received request for /api/test-metrics
2025-07-22 23:08:55,833 - DEBUG - main - Loading CSV: C:\Users\alber\anti-malarial-demand-forecast\data\test_metrics.csv
2025-07-22 23:08:55,835 - DEBUG - main - Loaded test_metrics.csv: 4 rows, columns: ['model_name', 'mae_sum', 'mae', 't+1_mae', 't+1_mae.1', 't+1_mae.2']
2025-07-22 23:08:55,836 - DEBUG - main - First row: {'model_name': 'Dense', 'mae_sum': 0.299327358603, 'mae': 0.099775786201, 't+1_mae': 0.070946060121, 't+1_mae.1': 0.070946060121, 't+1_mae.2': 0.070946060121}
2025-07-22 23:08:55,837 - INFO - main - Returning test metrics: 4 rows
2025-07-22 23:08:55,837 - DEBUG - main - Response sample: [{'model_name': 'Dense', 'mae_sum': 0.299327358603, 'mae': 0.099775786201, 't+1_mae': 0.070946060121, 't+1_mae.1': 0.070946060121, 't+1_mae.2': 0.070946060121}]
2025-07-22 23:08:55,838 - DEBUG - main - Response: /api/test-metrics - Status: 200 - Client IP: 127.0.0.1 - Duration: 6.61ms
2025-07-22 23:08:55,838 - DEBUG - main - Request: GET /api/predictions - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/static/index.html', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 23:08:55,839 - DEBUG - main - Received request for /api/predictions
2025-07-22 23:08:55,839 - DEBUG - main - Loading CSV: C:\Users\alber\anti-malarial-demand-forecast\data\predictions.csv
2025-07-22 23:08:55,842 - DEBUG - main - Loaded predictions.csv: 12 rows, columns: ['model_name', 'date', 'predicted_demand']
2025-07-22 23:08:55,842 - DEBUG - main - First row: {'model_name': 'Dense', 'date': '2025-04-01', 'predicted_demand': 1.6158}
2025-07-22 23:08:55,843 - DEBUG - main - Raw dates: ['2025-04-01', '2025-05-01', '2025-06-01', '2025-04-01', '2025-05-01', '2025-06-01', '2025-04-01', '2025-05-01', '2025-06-01', '2025-04-01', '2025-05-01', '2025-06-01']
2025-07-22 23:08:55,845 - DEBUG - main - Formatted dates: ['April 2025', 'May 2025', 'June 2025', 'April 2025', 'May 2025', 'June 2025', 'April 2025', 'May 2025', 'June 2025', 'April 2025', 'May 2025', 'June 2025']
2025-07-22 23:08:55,846 - DEBUG - main - Model names: ['Dense', 'GRU', 'LSTM', 'transformer']
2025-07-22 23:08:55,851 - DEBUG - main - Predictions structure: {'Dense': {'April 2025': 1.6158, 'May 2025': 1.5825, 'June 2025': 1.5041}, 'GRU': {'April 2025': 1.8661, 'May 2025': 1.6706, 'June 2025': 1.2447}, 'LSTM': {'April 2025': 1.5321, 'May 2025': 1.4979, 'June 2025': 1.4128}, 'transformer': {'April 2025': 1.4832, 'May 2025': 1.6103, 'June 2025': 1.3905}}
2025-07-22 23:08:55,851 - DEBUG - main - Loading test metrics for best model: C:\Users\alber\anti-malarial-demand-forecast\data\test_metrics.csv
2025-07-22 23:08:55,852 - DEBUG - main - Test MAEs: {'Dense': 0.099775786201, 'LSTM': 0.219373166561, 'GRU': 0.087615636488, 'transformer': 0.253565068046}, Best model: GRU
2025-07-22 23:08:55,852 - DEBUG - main - Loading input data for last 6 months: C:\Users\alber\anti-malarial-demand-forecast\data\raw_climate_ddd_merged_data.csv
2025-07-22 23:08:55,857 - DEBUG - main - Last 6 months dates: ['2024-10-01', '2024-11-01', '2024-12-01', '2025-01-01', '2025-02-01', '2025-03-01']
2025-07-22 23:08:55,857 - INFO - main - Returning predictions: 4 models, best_model: GRU
2025-07-22 23:08:55,857 - DEBUG - main - Response sample: {'Dense': {'April 2025': 1.6158, 'May 2025': 1.5825, 'June 2025': 1.5041}, 'GRU': {'April 2025': 1.8661, 'May 2025': 1.6706, 'June 2025': 1.2447}, 'LSTM': {'April 2025': 1.5321, 'May 2025': 1.4979, 'June 2025': 1.4128}, 'transformer': {'April 2025': 1.4832, 'May 2025': 1.6103, 'June 2025': 1.3905}}
2025-07-22 23:08:55,858 - DEBUG - main - Response: /api/predictions - Status: 200 - Client IP: 127.0.0.1 - Duration: 20.14ms
2025-07-22 23:12:59,248 - DEBUG - main - Request: GET /static/index.html - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'cache-control': 'max-age=0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'dnt': '1', 'upgrade-insecure-requests': '1', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'sec-fetch-site': 'none', 'sec-fetch-mode': 'navigate', 'sec-fetch-user': '?1', 'sec-fetch-dest': 'document', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4', 'if-none-match': '"861b8ad707424e87dccea25527de40ad"', 'if-modified-since': 'Tue, 22 Jul 2025 20:08:44 GMT'}
2025-07-22 23:12:59,250 - DEBUG - main - Response: /static/index.html - Status: 304 - Client IP: 127.0.0.1 - Duration: 2.11ms
2025-07-22 23:12:59,311 - DEBUG - main - Request: GET /.well-known/appspecific/com.chrome.devtools.json - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'no-cors', 'sec-fetch-dest': 'empty', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 23:12:59,312 - ERROR - main - 404 Not Found: GET /.well-known/appspecific/com.chrome.devtools.json - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'no-cors', 'sec-fetch-dest': 'empty', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 23:12:59,313 - DEBUG - main - Response: /.well-known/appspecific/com.chrome.devtools.json - Status: 404 - Client IP: 127.0.0.1 - Duration: 2.00ms
2025-07-22 23:12:59,507 - DEBUG - main - Request: GET /api/input-data - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/static/index.html', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 23:12:59,508 - DEBUG - main - Request: GET /api/test-metrics - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/static/index.html', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 23:12:59,508 - DEBUG - main - Request: GET /api/predictions - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/static/index.html', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 23:12:59,508 - DEBUG - main - Received request for /api/input-data
2025-07-22 23:12:59,509 - DEBUG - main - Loading CSV: C:\Users\alber\anti-malarial-demand-forecast\data\raw_climate_ddd_merged_data.csv
2025-07-22 23:12:59,512 - DEBUG - main - Loaded raw_climate_ddd_merged_data.csv: 99 data rows, columns: ['year', 'month', 'ddd_demand', 'avg_temp_max', 'avg_temp_min', 'avg_humidity', 'total_precipitation', 'total_sunshine_hours']
2025-07-22 23:12:59,513 - DEBUG - main - First row: {'year': 2017.0, 'month': 1.0, 'ddd_demand': 0.8647902406163, 'avg_temp_max': 31.48, 'avg_temp_min': 18.21, 'avg_humidity': 45.61, 'total_precipitation': 1566.1, 'total_sunshine_hours': 40921.04}
2025-07-22 23:12:59,514 - DEBUG - main - Data types: {'year': dtype('int64'), 'month': dtype('int64'), 'ddd_demand': dtype('float64'), 'avg_temp_max': dtype('float64'), 'avg_temp_min': dtype('float64'), 'avg_humidity': dtype('float64'), 'total_precipitation': dtype('float64'), 'total_sunshine_hours': dtype('float64')}
2025-07-22 23:12:59,522 - DEBUG - main - Data validation passed
2025-07-22 23:12:59,527 - DEBUG - main - Selected last 12 rows: ['2024-04-01', '2024-05-01', '2024-06-01', '2024-07-01', '2024-08-01', '2024-09-01', '2024-10-01', '2024-11-01', '2024-12-01', '2025-01-01', '2025-02-01', '2025-03-01']
2025-07-22 23:12:59,528 - DEBUG - main - Computed stats: {'max_temp_avg': 28.782501220703125, 'min_temp_avg': 18.127500534057617, 'humidity_avg': 68.30166625976562, 'precip_total': 141847.609375, 'sunshine_total': 445130.0, 'current_demand': 1.7332526445388794}
2025-07-22 23:12:59,530 - INFO - main - Returning input data: 12 rows, stats keys: ['max_temp_avg', 'min_temp_avg', 'humidity_avg', 'precip_total', 'sunshine_total', 'current_demand']
2025-07-22 23:12:59,530 - DEBUG - main - CSV output sample: year,month,ddd_demand,avg_temp_max,avg_temp_min,avg_humidity,total_precipitation,total_sunshine_hours
2024,4,1.7882762,27.72,18.62,78.3,21083.2,34248.21
2024,5,1.6331059,28.17,18.63,75.1,12969.0,37863...
2025-07-22 23:12:59,531 - DEBUG - main - Received request for /api/test-metrics
2025-07-22 23:12:59,531 - DEBUG - main - Loading CSV: C:\Users\alber\anti-malarial-demand-forecast\data\test_metrics.csv
2025-07-22 23:12:59,532 - DEBUG - main - Loaded test_metrics.csv: 4 rows, columns: ['model_name', 'mae_sum', 'mae', 't+1_mae', 't+1_mae.1', 't+1_mae.2']
2025-07-22 23:12:59,533 - DEBUG - main - First row: {'model_name': 'Dense', 'mae_sum': 0.299327358603, 'mae': 0.099775786201, 't+1_mae': 0.070946060121, 't+1_mae.1': 0.070946060121, 't+1_mae.2': 0.070946060121}
2025-07-22 23:12:59,534 - INFO - main - Returning test metrics: 4 rows
2025-07-22 23:12:59,534 - DEBUG - main - Response sample: [{'model_name': 'Dense', 'mae_sum': 0.299327358603, 'mae': 0.099775786201, 't+1_mae': 0.070946060121, 't+1_mae.1': 0.070946060121, 't+1_mae.2': 0.070946060121}]
2025-07-22 23:12:59,535 - DEBUG - main - Received request for /api/predictions
2025-07-22 23:12:59,535 - DEBUG - main - Loading CSV: C:\Users\alber\anti-malarial-demand-forecast\data\predictions.csv
2025-07-22 23:12:59,537 - DEBUG - main - Loaded predictions.csv: 12 rows, columns: ['model_name', 'date', 'predicted_demand']
2025-07-22 23:12:59,537 - DEBUG - main - First row: {'model_name': 'Dense', 'date': '2025-04-01', 'predicted_demand': 1.6158}
2025-07-22 23:12:59,537 - DEBUG - main - Raw dates: ['2025-04-01', '2025-05-01', '2025-06-01', '2025-04-01', '2025-05-01', '2025-06-01', '2025-04-01', '2025-05-01', '2025-06-01', '2025-04-01', '2025-05-01', '2025-06-01']
2025-07-22 23:12:59,539 - DEBUG - main - Formatted dates: ['April 2025', 'May 2025', 'June 2025', 'April 2025', 'May 2025', 'June 2025', 'April 2025', 'May 2025', 'June 2025', 'April 2025', 'May 2025', 'June 2025']
2025-07-22 23:12:59,539 - DEBUG - main - Model names: ['Dense', 'GRU', 'LSTM', 'transformer']
2025-07-22 23:12:59,545 - DEBUG - main - Predictions structure: {'Dense': {'April 2025': 1.6158, 'May 2025': 1.5825, 'June 2025': 1.5041}, 'GRU': {'April 2025': 1.8661, 'May 2025': 1.6706, 'June 2025': 1.2447}, 'LSTM': {'April 2025': 1.5321, 'May 2025': 1.4979, 'June 2025': 1.4128}, 'transformer': {'April 2025': 1.4832, 'May 2025': 1.6103, 'June 2025': 1.3905}}
2025-07-22 23:12:59,545 - DEBUG - main - Loading test metrics for best model: C:\Users\alber\anti-malarial-demand-forecast\data\test_metrics.csv
2025-07-22 23:12:59,549 - DEBUG - main - Test MAEs: {'Dense': 0.099775786201, 'LSTM': 0.219373166561, 'GRU': 0.087615636488, 'transformer': 0.253565068046}, Best model: GRU
2025-07-22 23:12:59,549 - DEBUG - main - Loading input data for last 6 months: C:\Users\alber\anti-malarial-demand-forecast\data\raw_climate_ddd_merged_data.csv
2025-07-22 23:12:59,556 - DEBUG - main - Last 6 months dates: ['2024-10-01', '2024-11-01', '2024-12-01', '2025-01-01', '2025-02-01', '2025-03-01']
2025-07-22 23:12:59,556 - INFO - main - Returning predictions: 4 models, best_model: GRU
2025-07-22 23:12:59,557 - DEBUG - main - Response sample: {'Dense': {'April 2025': 1.6158, 'May 2025': 1.5825, 'June 2025': 1.5041}, 'GRU': {'April 2025': 1.8661, 'May 2025': 1.6706, 'June 2025': 1.2447}, 'LSTM': {'April 2025': 1.5321, 'May 2025': 1.4979, 'June 2025': 1.4128}, 'transformer': {'April 2025': 1.4832, 'May 2025': 1.6103, 'June 2025': 1.3905}}
2025-07-22 23:12:59,557 - DEBUG - main - Response: /api/input-data - Status: 200 - Client IP: 127.0.0.1 - Duration: 50.03ms
2025-07-22 23:12:59,558 - DEBUG - main - Response: /api/test-metrics - Status: 200 - Client IP: 127.0.0.1 - Duration: 50.03ms
2025-07-22 23:12:59,559 - DEBUG - main - Response: /api/predictions - Status: 200 - Client IP: 127.0.0.1 - Duration: 51.03ms
2025-07-22 23:13:01,081 - DEBUG - main - Request: GET /static/index.html - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'cache-control': 'max-age=0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'dnt': '1', 'upgrade-insecure-requests': '1', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'sec-fetch-site': 'none', 'sec-fetch-mode': 'navigate', 'sec-fetch-user': '?1', 'sec-fetch-dest': 'document', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4', 'if-none-match': '"861b8ad707424e87dccea25527de40ad"', 'if-modified-since': 'Tue, 22 Jul 2025 20:08:44 GMT'}
2025-07-22 23:13:01,083 - DEBUG - main - Response: /static/index.html - Status: 304 - Client IP: 127.0.0.1 - Duration: 2.00ms
2025-07-22 23:13:01,126 - DEBUG - main - Request: GET /.well-known/appspecific/com.chrome.devtools.json - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'no-cors', 'sec-fetch-dest': 'empty', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 23:13:01,127 - ERROR - main - 404 Not Found: GET /.well-known/appspecific/com.chrome.devtools.json - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'no-cors', 'sec-fetch-dest': 'empty', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 23:13:01,127 - DEBUG - main - Response: /.well-known/appspecific/com.chrome.devtools.json - Status: 404 - Client IP: 127.0.0.1 - Duration: 1.00ms
2025-07-22 23:13:01,309 - DEBUG - main - Request: GET /api/input-data - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/static/index.html', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 23:13:01,310 - DEBUG - main - Received request for /api/input-data
2025-07-22 23:13:01,310 - DEBUG - main - Loading CSV: C:\Users\alber\anti-malarial-demand-forecast\data\raw_climate_ddd_merged_data.csv
2025-07-22 23:13:01,313 - DEBUG - main - Loaded raw_climate_ddd_merged_data.csv: 99 data rows, columns: ['year', 'month', 'ddd_demand', 'avg_temp_max', 'avg_temp_min', 'avg_humidity', 'total_precipitation', 'total_sunshine_hours']
2025-07-22 23:13:01,313 - DEBUG - main - First row: {'year': 2017.0, 'month': 1.0, 'ddd_demand': 0.8647902406163, 'avg_temp_max': 31.48, 'avg_temp_min': 18.21, 'avg_humidity': 45.61, 'total_precipitation': 1566.1, 'total_sunshine_hours': 40921.04}
2025-07-22 23:13:01,314 - DEBUG - main - Data types: {'year': dtype('int64'), 'month': dtype('int64'), 'ddd_demand': dtype('float64'), 'avg_temp_max': dtype('float64'), 'avg_temp_min': dtype('float64'), 'avg_humidity': dtype('float64'), 'total_precipitation': dtype('float64'), 'total_sunshine_hours': dtype('float64')}
2025-07-22 23:13:01,321 - DEBUG - main - Data validation passed
2025-07-22 23:13:01,327 - DEBUG - main - Selected last 12 rows: ['2024-04-01', '2024-05-01', '2024-06-01', '2024-07-01', '2024-08-01', '2024-09-01', '2024-10-01', '2024-11-01', '2024-12-01', '2025-01-01', '2025-02-01', '2025-03-01']
2025-07-22 23:13:01,328 - DEBUG - main - Computed stats: {'max_temp_avg': 28.782501220703125, 'min_temp_avg': 18.127500534057617, 'humidity_avg': 68.30166625976562, 'precip_total': 141847.609375, 'sunshine_total': 445130.0, 'current_demand': 1.7332526445388794}
2025-07-22 23:13:01,330 - INFO - main - Returning input data: 12 rows, stats keys: ['max_temp_avg', 'min_temp_avg', 'humidity_avg', 'precip_total', 'sunshine_total', 'current_demand']
2025-07-22 23:13:01,331 - DEBUG - main - CSV output sample: year,month,ddd_demand,avg_temp_max,avg_temp_min,avg_humidity,total_precipitation,total_sunshine_hours
2024,4,1.7882762,27.72,18.62,78.3,21083.2,34248.21
2024,5,1.6331059,28.17,18.63,75.1,12969.0,37863...
2025-07-22 23:13:01,331 - DEBUG - main - Response: /api/input-data - Status: 200 - Client IP: 127.0.0.1 - Duration: 22.13ms
2025-07-22 23:13:01,332 - DEBUG - main - Request: GET /api/test-metrics - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/static/index.html', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 23:13:01,333 - DEBUG - main - Request: GET /api/predictions - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/static/index.html', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 23:13:01,333 - DEBUG - main - Received request for /api/test-metrics
2025-07-22 23:13:01,333 - DEBUG - main - Loading CSV: C:\Users\alber\anti-malarial-demand-forecast\data\test_metrics.csv
2025-07-22 23:13:01,335 - DEBUG - main - Loaded test_metrics.csv: 4 rows, columns: ['model_name', 'mae_sum', 'mae', 't+1_mae', 't+1_mae.1', 't+1_mae.2']
2025-07-22 23:13:01,336 - DEBUG - main - First row: {'model_name': 'Dense', 'mae_sum': 0.299327358603, 'mae': 0.099775786201, 't+1_mae': 0.070946060121, 't+1_mae.1': 0.070946060121, 't+1_mae.2': 0.070946060121}
2025-07-22 23:13:01,337 - INFO - main - Returning test metrics: 4 rows
2025-07-22 23:13:01,337 - DEBUG - main - Response sample: [{'model_name': 'Dense', 'mae_sum': 0.299327358603, 'mae': 0.099775786201, 't+1_mae': 0.070946060121, 't+1_mae.1': 0.070946060121, 't+1_mae.2': 0.070946060121}]
2025-07-22 23:13:01,338 - DEBUG - main - Received request for /api/predictions
2025-07-22 23:13:01,338 - DEBUG - main - Loading CSV: C:\Users\alber\anti-malarial-demand-forecast\data\predictions.csv
2025-07-22 23:13:01,340 - DEBUG - main - Loaded predictions.csv: 12 rows, columns: ['model_name', 'date', 'predicted_demand']
2025-07-22 23:13:01,340 - DEBUG - main - First row: {'model_name': 'Dense', 'date': '2025-04-01', 'predicted_demand': 1.6158}
2025-07-22 23:13:01,340 - DEBUG - main - Raw dates: ['2025-04-01', '2025-05-01', '2025-06-01', '2025-04-01', '2025-05-01', '2025-06-01', '2025-04-01', '2025-05-01', '2025-06-01', '2025-04-01', '2025-05-01', '2025-06-01']
2025-07-22 23:13:01,342 - DEBUG - main - Formatted dates: ['April 2025', 'May 2025', 'June 2025', 'April 2025', 'May 2025', 'June 2025', 'April 2025', 'May 2025', 'June 2025', 'April 2025', 'May 2025', 'June 2025']
2025-07-22 23:13:01,343 - DEBUG - main - Model names: ['Dense', 'GRU', 'LSTM', 'transformer']
2025-07-22 23:13:01,349 - DEBUG - main - Predictions structure: {'Dense': {'April 2025': 1.6158, 'May 2025': 1.5825, 'June 2025': 1.5041}, 'GRU': {'April 2025': 1.8661, 'May 2025': 1.6706, 'June 2025': 1.2447}, 'LSTM': {'April 2025': 1.5321, 'May 2025': 1.4979, 'June 2025': 1.4128}, 'transformer': {'April 2025': 1.4832, 'May 2025': 1.6103, 'June 2025': 1.3905}}
2025-07-22 23:13:01,349 - DEBUG - main - Loading test metrics for best model: C:\Users\alber\anti-malarial-demand-forecast\data\test_metrics.csv
2025-07-22 23:13:01,351 - DEBUG - main - Test MAEs: {'Dense': 0.099775786201, 'LSTM': 0.219373166561, 'GRU': 0.087615636488, 'transformer': 0.253565068046}, Best model: GRU
2025-07-22 23:13:01,351 - DEBUG - main - Loading input data for last 6 months: C:\Users\alber\anti-malarial-demand-forecast\data\raw_climate_ddd_merged_data.csv
2025-07-22 23:13:01,359 - DEBUG - main - Last 6 months dates: ['2024-10-01', '2024-11-01', '2024-12-01', '2025-01-01', '2025-02-01', '2025-03-01']
2025-07-22 23:13:01,359 - INFO - main - Returning predictions: 4 models, best_model: GRU
2025-07-22 23:13:01,359 - DEBUG - main - Response sample: {'Dense': {'April 2025': 1.6158, 'May 2025': 1.5825, 'June 2025': 1.5041}, 'GRU': {'April 2025': 1.8661, 'May 2025': 1.6706, 'June 2025': 1.2447}, 'LSTM': {'April 2025': 1.5321, 'May 2025': 1.4979, 'June 2025': 1.4128}, 'transformer': {'April 2025': 1.4832, 'May 2025': 1.6103, 'June 2025': 1.3905}}
2025-07-22 23:13:01,360 - DEBUG - main - Response: /api/test-metrics - Status: 200 - Client IP: 127.0.0.1 - Duration: 27.32ms
2025-07-22 23:13:01,360 - DEBUG - main - Response: /api/predictions - Status: 200 - Client IP: 127.0.0.1 - Duration: 27.32ms
2025-07-22 23:13:03,226 - DEBUG - main - Request: GET /static/index.html - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'cache-control': 'max-age=0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'sec-ch-ua-mobile': '?0', 'sec-ch-ua-platform': '"Windows"', 'dnt': '1', 'upgrade-insecure-requests': '1', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'sec-fetch-site': 'none', 'sec-fetch-mode': 'navigate', 'sec-fetch-user': '?1', 'sec-fetch-dest': 'document', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4', 'if-none-match': '"861b8ad707424e87dccea25527de40ad"', 'if-modified-since': 'Tue, 22 Jul 2025 20:08:44 GMT'}
2025-07-22 23:13:03,227 - DEBUG - main - Response: /static/index.html - Status: 304 - Client IP: 127.0.0.1 - Duration: 1.00ms
2025-07-22 23:13:03,273 - DEBUG - main - Request: GET /.well-known/appspecific/com.chrome.devtools.json - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'no-cors', 'sec-fetch-dest': 'empty', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 23:13:03,273 - ERROR - main - 404 Not Found: GET /.well-known/appspecific/com.chrome.devtools.json - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'no-cors', 'sec-fetch-dest': 'empty', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 23:13:03,274 - DEBUG - main - Response: /.well-known/appspecific/com.chrome.devtools.json - Status: 404 - Client IP: 127.0.0.1 - Duration: 1.00ms
2025-07-22 23:13:03,397 - DEBUG - main - Request: GET /api/input-data - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/static/index.html', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 23:13:03,398 - DEBUG - main - Received request for /api/input-data
2025-07-22 23:13:03,398 - DEBUG - main - Loading CSV: C:\Users\alber\anti-malarial-demand-forecast\data\raw_climate_ddd_merged_data.csv
2025-07-22 23:13:03,402 - DEBUG - main - Loaded raw_climate_ddd_merged_data.csv: 99 data rows, columns: ['year', 'month', 'ddd_demand', 'avg_temp_max', 'avg_temp_min', 'avg_humidity', 'total_precipitation', 'total_sunshine_hours']
2025-07-22 23:13:03,409 - DEBUG - main - First row: {'year': 2017.0, 'month': 1.0, 'ddd_demand': 0.8647902406163, 'avg_temp_max': 31.48, 'avg_temp_min': 18.21, 'avg_humidity': 45.61, 'total_precipitation': 1566.1, 'total_sunshine_hours': 40921.04}
2025-07-22 23:13:03,410 - DEBUG - main - Data types: {'year': dtype('int64'), 'month': dtype('int64'), 'ddd_demand': dtype('float64'), 'avg_temp_max': dtype('float64'), 'avg_temp_min': dtype('float64'), 'avg_humidity': dtype('float64'), 'total_precipitation': dtype('float64'), 'total_sunshine_hours': dtype('float64')}
2025-07-22 23:13:03,419 - DEBUG - main - Data validation passed
2025-07-22 23:13:03,425 - DEBUG - main - Selected last 12 rows: ['2024-04-01', '2024-05-01', '2024-06-01', '2024-07-01', '2024-08-01', '2024-09-01', '2024-10-01', '2024-11-01', '2024-12-01', '2025-01-01', '2025-02-01', '2025-03-01']
2025-07-22 23:13:03,426 - DEBUG - main - Computed stats: {'max_temp_avg': 28.782501220703125, 'min_temp_avg': 18.127500534057617, 'humidity_avg': 68.30166625976562, 'precip_total': 141847.609375, 'sunshine_total': 445130.0, 'current_demand': 1.7332526445388794}
2025-07-22 23:13:03,428 - INFO - main - Returning input data: 12 rows, stats keys: ['max_temp_avg', 'min_temp_avg', 'humidity_avg', 'precip_total', 'sunshine_total', 'current_demand']
2025-07-22 23:13:03,428 - DEBUG - main - CSV output sample: year,month,ddd_demand,avg_temp_max,avg_temp_min,avg_humidity,total_precipitation,total_sunshine_hours
2024,4,1.7882762,27.72,18.62,78.3,21083.2,34248.21
2024,5,1.6331059,28.17,18.63,75.1,12969.0,37863...
2025-07-22 23:13:03,429 - DEBUG - main - Request: GET /api/test-metrics - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/static/index.html', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 23:13:03,429 - DEBUG - main - Received request for /api/test-metrics
2025-07-22 23:13:03,430 - DEBUG - main - Loading CSV: C:\Users\alber\anti-malarial-demand-forecast\data\test_metrics.csv
2025-07-22 23:13:03,432 - DEBUG - main - Loaded test_metrics.csv: 4 rows, columns: ['model_name', 'mae_sum', 'mae', 't+1_mae', 't+1_mae.1', 't+1_mae.2']
2025-07-22 23:13:03,432 - DEBUG - main - First row: {'model_name': 'Dense', 'mae_sum': 0.299327358603, 'mae': 0.099775786201, 't+1_mae': 0.070946060121, 't+1_mae.1': 0.070946060121, 't+1_mae.2': 0.070946060121}
2025-07-22 23:13:03,433 - INFO - main - Returning test metrics: 4 rows
2025-07-22 23:13:03,433 - DEBUG - main - Response sample: [{'model_name': 'Dense', 'mae_sum': 0.299327358603, 'mae': 0.099775786201, 't+1_mae': 0.070946060121, 't+1_mae.1': 0.070946060121, 't+1_mae.2': 0.070946060121}]
2025-07-22 23:13:03,434 - DEBUG - main - Request: GET /api/predictions - Client IP: 127.0.0.1 - Headers: {'host': 'localhost:8000', 'connection': 'keep-alive', 'sec-ch-ua-platform': '"Windows"', 'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0', 'sec-ch-ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Microsoft Edge";v="138"', 'dnt': '1', 'sec-ch-ua-mobile': '?0', 'accept': '*/*', 'sec-fetch-site': 'same-origin', 'sec-fetch-mode': 'cors', 'sec-fetch-dest': 'empty', 'referer': 'http://localhost:8000/static/index.html', 'accept-encoding': 'gzip, deflate, br, zstd', 'accept-language': 'en-US,en;q=0.9,fr-FR;q=0.8,fr;q=0.7,sv;q=0.6,en-GB;q=0.5', 'cookie': '_xsrf=2|2ab05184|f005ab1cf24c5a50108c83d0cc028d94|1752529021; username-localhost-8888="2|1:0|10:1752698501|23:username-localhost-8888|200:eyJ1c2VybmFtZSI6ICI1NDZhM2FhZDkxYmY0ODQwOWE0YWFhYjQyMjY1NGJkMiIsICJuYW1lIjogIkFub255bW91cyBBZHJhc3RlYSIsICJkaXNwbGF5X25hbWUiOiAiQW5vbnltb3VzIEFkcmFzdGVhIiwgImluaXRpYWxzIjogIkFBIiwgImNvbG9yIjogbnVsbH0=|3ff5fd5aa82399f4c59b6012593e2294ab88b7433e6e5f511e239d8a62d0397a"; session=3663ee84-90ac-4bb3-b97c-9819a9850db2.1cweMd-kBDaE3ekzVrB23x7-LL4'}
2025-07-22 23:13:03,434 - DEBUG - main - Response: /api/input-data - Status: 200 - Client IP: 127.0.0.1 - Duration: 37.75ms
2025-07-22 23:13:03,435 - DEBUG - main - Received request for /api/predictions
2025-07-22 23:13:03,435 - DEBUG - main - Loading CSV: C:\Users\alber\anti-malarial-demand-forecast\data\predictions.csv
2025-07-22 23:13:03,438 - DEBUG - main - Loaded predictions.csv: 12 rows, columns: ['model_name', 'date', 'predicted_demand']
2025-07-22 23:13:03,439 - DEBUG - main - First row: {'model_name': 'Dense', 'date': '2025-04-01', 'predicted_demand': 1.6158}
2025-07-22 23:13:03,439 - DEBUG - main - Raw dates: ['2025-04-01', '2025-05-01', '2025-06-01', '2025-04-01', '2025-05-01', '2025-06-01', '2025-04-01', '2025-05-01', '2025-06-01', '2025-04-01', '2025-05-01', '2025-06-01']
2025-07-22 23:13:03,441 - DEBUG - main - Formatted dates: ['April 2025', 'May 2025', 'June 2025', 'April 2025', 'May 2025', 'June 2025', 'April 2025', 'May 2025', 'June 2025', 'April 2025', 'May 2025', 'June 2025']
2025-07-22 23:13:03,442 - DEBUG - main - Model names: ['Dense', 'GRU', 'LSTM', 'transformer']
2025-07-22 23:13:03,449 - DEBUG - main - Predictions structure: {'Dense': {'April 2025': 1.6158, 'May 2025': 1.5825, 'June 2025': 1.5041}, 'GRU': {'April 2025': 1.8661, 'May 2025': 1.6706, 'June 2025': 1.2447}, 'LSTM': {'April 2025': 1.5321, 'May 2025': 1.4979, 'June 2025': 1.4128}, 'transformer': {'April 2025': 1.4832, 'May 2025': 1.6103, 'June 2025': 1.3905}}
2025-07-22 23:13:03,449 - DEBUG - main - Loading test metrics for best model: C:\Users\alber\anti-malarial-demand-forecast\data\test_metrics.csv
2025-07-22 23:13:03,452 - DEBUG - main - Test MAEs: {'Dense': 0.099775786201, 'LSTM': 0.219373166561, 'GRU': 0.087615636488, 'transformer': 0.253565068046}, Best model: GRU
2025-07-22 23:13:03,452 - DEBUG - main - Loading input data for last 6 months: C:\Users\alber\anti-malarial-demand-forecast\data\raw_climate_ddd_merged_data.csv
2025-07-22 23:13:03,459 - DEBUG - main - Last 6 months dates: ['2024-10-01', '2024-11-01', '2024-12-01', '2025-01-01', '2025-02-01', '2025-03-01']
2025-07-22 23:13:03,460 - INFO - main - Returning predictions: 4 models, best_model: GRU
2025-07-22 23:13:03,460 - DEBUG - main - Response sample: {'Dense': {'April 2025': 1.6158, 'May 2025': 1.5825, 'June 2025': 1.5041}, 'GRU': {'April 2025': 1.8661, 'May 2025': 1.6706, 'June 2025': 1.2447}, 'LSTM': {'April 2025': 1.5321, 'May 2025': 1.4979, 'June 2025': 1.4128}, 'transformer': {'April 2025': 1.4832, 'May 2025': 1.6103, 'June 2025': 1.3905}}
2025-07-22 23:13:03,461 - DEBUG - main - Response: /api/test-metrics - Status: 200 - Client IP: 127.0.0.1 - Duration: 32.31ms
2025-07-22 23:13:03,465 - DEBUG - main - Response: /api/predictions - Status: 200 - Client IP: 127.0.0.1 - Duration: 30.21ms
